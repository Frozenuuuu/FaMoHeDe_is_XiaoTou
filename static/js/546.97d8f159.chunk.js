"use strict";(self.webpackChunkjx3dps_online=self.webpackChunkjx3dps_online||[]).push([[546],{5546:(l,i,s)=>{s.r(i),s.d(i,{default:()=>bi});var n=s(6865),o=s(3119),t=s(1132),d=s(4443),e=s(7555),u=s(552),v=s(7460),c=s(4001),a=s(3972),r=s(5798),h=s(5417),f=s(588),m=s(7810),x=s(4303),p=s(73),b=s(7975);const j=24,g=[{"\u6280\u80fd\u540d\u79f0":"\u65ad\u8109","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u4e00\u9633\u6307","\u56fe\u6807":"https://icon.jx3box.com/icon/22816.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u65ad\u8109"},{"\u6280\u80fd\u540d\u79f0":"\u622a\u9633","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":5*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u56fe\u6807":"https://icon.jx3box.com/icon/22817.png","\u6280\u80fd\u7c7b\u578b":"\u4e00\u9633\u6307","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u622a\u9633","\u6700\u5927\u5145\u80fd\u5c42\u6570":3,"\u5145\u80fd\u5c42\u6570":3},{"\u6280\u80fd\u540d\u79f0":"\u5f15\u7a8d","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":7*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u4e00\u9633\u6307","\u6700\u5927\u5145\u80fd\u5c42\u6570":2,"\u56fe\u6807":"https://icon.jx3box.com/icon/22820.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u5f15\u7a8d"},{"\u6280\u80fd\u540d\u79f0":"\u7834\u7a74","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":12*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u4e00\u9633\u6307","\u56fe\u6807":"https://icon.jx3box.com/icon/22819.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u7834\u7a74"},{"\u6280\u80fd\u540d\u79f0":"\u9aa4\u98ce\u4ee4","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":16,"\u6280\u80fdCD":25*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u8058\u98ce\u4ee4","\u56fe\u6807":"https://icon.jx3box.com/icon/22815.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u9aa4\u98ce\u4ee4"},{"\u6280\u80fd\u540d\u79f0":"\u5288\u98ce\u4ee4","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":8*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u8058\u98ce\u4ee4","\u56fe\u6807":"https://icon.jx3box.com/icon/22813.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u5288\u98ce\u4ee4","\u6700\u5927\u5145\u80fd\u5c42\u6570":2,"\u5145\u80fd\u5c42\u6570":2},{"\u6280\u80fd\u540d\u79f0":"\u9aa4\u98ce\u5288\u98ce","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdGCD\u7ec4":"\u81ea\u8eab","\u6280\u80fd\u7c7b\u578b":"\u8058\u98ce\u4ee4","\u56fe\u6807":"https://icon.jx3box.com/icon/22813.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u9aa4\u98ce\u5288\u98ce"},{"\u6280\u80fd\u540d\u79f0":"\u629f\u98ce\u4ee4","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":55*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u8058\u98ce\u4ee4","\u56fe\u6807":"https://icon.jx3box.com/icon/22814.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u629f\u98ce\u4ee4"},{"\u6280\u80fd\u540d\u79f0":"\u98ce\u6d41\u4e91\u6563","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":26*b.DH,"\u663e\u793a\u7c7b\u578b":"\u5947\u7a74\u6280\u80fd","\u4f9d\u8d56\u5947\u7a74\u540d":"\u51fa\u5cab","\u6280\u80fdGCD\u7ec4":"\u81ea\u8eab","\u6280\u80fd\u7c7b\u578b":"\u5176\u4ed6","\u56fe\u6807":"https://icon.jx3box.com/icon/22807.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u98ce\u6d41\u4e91\u6563"},{"\u6280\u80fd\u540d\u79f0":"\u629f\u98ce\u4ee4\u65ad","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u6280\u80fdCD":55*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u8058\u98ce\u4ee4","\u56fe\u6807":"https://icon.jx3box.com/icon/22814.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u629f\u98ce\u4ee4\u65ad"},{"\u6280\u80fd\u540d\u79f0":"\u6714\u98ce\u626c\u5c18\u4e00","\u663e\u793a\u7c7b\u578b":"\u5947\u7a74\u6280\u80fd","\u4f9d\u8d56\u5947\u7a74\u540d":"\u6714\u98ce\u626c\u5c18","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":14,"\u6280\u80fdCD":40*b.DH,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u5176\u4ed6","\u56fe\u6807":"https://icon.jx3box.com/icon/22874.png"},{"\u6280\u80fd\u540d\u79f0":"\u6714\u98ce\u626c\u5c18\u4e8c","\u663e\u793a\u7c7b\u578b":"\u5947\u7a74\u6280\u80fd","\u4f9d\u8d56\u5947\u7a74\u540d":"\u6714\u98ce\u626c\u5c18","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":14,"\u6280\u80fdGCD\u7ec4":"\u516c\u5171","\u6280\u80fd\u7c7b\u578b":"\u5176\u4ed6","\u56fe\u6807":"https://icon.jx3box.com/icon/22874.png"},{"\u6280\u80fd\u540d\u79f0":"\u4e00\u9633\u6765\u590d","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":j,"\u4f9d\u8d56\u5947\u7a74\u540d":"\u4e00\u9633\u6765\u590d","\u6280\u80fdCD":25*b.DH,"\u6280\u80fdGCD\u7ec4":"\u81ea\u8eab","\u663e\u793a\u7c7b\u578b":"\u5947\u7a74\u6280\u80fd","\u6280\u80fd\u7c7b\u578b":"\u5176\u4ed6","\u56fe\u6807":"https://icon.jx3box.com/icon/22876.png","\u6280\u80fd\u539f\u59cb\u540d\u79f0":"\u4e00\u9633\u6765\u590d"},{"\u6280\u80fd\u540d\u79f0":"\u89e6\u53d1\u6a59\u6b66","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":0,"\u6280\u80fdCD":30*b.DH,"\u6280\u80fdGCD\u7ec4":"\u81ea\u8eab","\u6280\u80fd\u7c7b\u578b":"\u5176\u4ed6","\u663e\u793a\u7c7b\u578b":"\u5927\u6a59\u6b66\u6a21\u62df","\u56fe\u6807":"https://icon.jx3box.com/icon/2589.png"},{"\u6280\u80fd\u540d\u79f0":"\u6362\u884c","\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD":0,"\u6280\u80fdCD":0,"\u6280\u80fdGCD\u7ec4":"\u81ea\u8eab","\u6280\u80fd\u7c7b\u578b":"\u5176\u4ed6","\u56fe\u6807":"https://icon.jx3box.com/icon/6932.png","\u8bf4\u660e":'\u63d2\u5165\u6362\u884c\u5c06\u53ea\u4ee5\u201d\u6362\u884c\u201c\u4f5c\u4e3a\u5c55\u793a\u6362\u884c\u3002 \u82e5\u65e0"\u6362\u884c"\u5219\u9ed8\u8ba4\u4ee5\u201d\u9aa4\u98ce\u4ee4\u201c\u4f5c\u4e3a\u5c55\u793a\u6362\u884c.'}],D=["\u91ca\u653e\u6280\u80fd","\u81ea\u8eabbuff\u53d8\u52a8","\u76ee\u6807buff\u53d8\u52a8","\u9020\u6210\u4f24\u5bb3","\u6280\u80fd\u91ca\u653e\u7ed3\u679c","\u7b49CD","\u5faa\u73af\u5f02\u5e38"];const y={"\u7ecf\u8109\u5faa\u884c":{"\u540d\u79f0":"\u7ecf\u8109\u5faa\u884c","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":99999,"\u56fe\u6807":"https://icon.jx3box.com/icon/22818.png","\u5907\u6ce8":"\u6bcf\u79d2\u56de\u590d\u4efb\u7763\u81093\u70b9\uff0c\u70b9\u5947\u7a74\u540e5\u70b9"},"\u7389\u6795":{"\u540d\u79f0":"\u7389\u6795","\u6700\u5927\u5c42\u6570":1,"\u56fe\u6807":"https://icon.jx3box.com/icon/22955.png","\u5907\u6ce8":"\u7ecf\u8109\u5faa\u884c\u671f\u95f4\u65e0\u89c6\u9632\u5fa150%"},"\u832b\u7f08":{"\u540d\u79f0":"\u832b\u7f08","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":2*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22971.png","\u5907\u6ce8":"\u91ca\u653e\u9aa4\u98ce\u4ee4\u540e2\u79d2\u5185\u53ef\u4ee5\u91ca\u653e\u65e0GCD\u5288\u98ce\u4ee4"},"\u795e\u95e8":{"\u540d\u79f0":"\u795e\u95e8","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":23*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22961.png","\u5907\u6ce8":"\u201c\u7ecf\u8109\u5faa\u884c\u201d\u72b6\u6001\u4e0b\u65bd\u5c55\u201c\u7834\u7a74\u201d\u540e\uff0c\u57fa\u7840\u653b\u51fb\u529b\u63d0\u9ad820%\uff0c\u65e0\u53cc\u989d\u5916\u63d0\u9ad820%\u6301\u7eed23\u79d2\u3002"},"\u7edd\u8109":{"\u540d\u79f0":"\u7edd\u8109","\u6700\u5927\u5c42\u6570":10,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":30*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22817.png","\u5907\u6ce8":"\u53ef\u88ab\u5f15\u7206\uff0c\u6700\u591a10\u5c42\uff0c\u70b9\u5947\u7a7415\u5c42"},"\u5c01\u5e9c\u65ad\u8109\u94fe":{"\u540d\u79f0":"\u5c01\u5e9c\u65ad\u8109\u94fe","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":2*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22816.png","\u5907\u6ce8":"\u65bd\u5c55\u622a\u9633\u53ef\u4ee5\u9020\u6210\u5c01\u5e9c\u4f24\u5bb3"},"\u5c01\u5e9c\u622a\u9633\u94fe":{"\u540d\u79f0":"\u5c01\u5e9c\u622a\u9633\u94fe","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":2*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22817.png","\u5907\u6ce8":"\u65bd\u5c55\u65ad\u8109\u53ef\u4ee5\u9020\u6210\u5c01\u5e9c\u4f24\u5bb3"},"\u9aa4\u98ce":{"\u540d\u79f0":"\u9aa4\u98ce","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":8*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22815.png","\u5907\u6ce8":"\u6bcf0.75\u79d2\u9020\u6210\u4e00\u6b21\u4f24\u5bb3"},"\u51fa\u5cab":{"\u540d\u79f0":"\u51fa\u5cab","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":2*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22976.png","\u5907\u6ce8":"\u51fa\u5cab"},"\u6714\u98ce\u626c\u5c18":{"\u540d\u79f0":"\u6714\u98ce\u626c\u5c18","\u6700\u5927\u5c42\u6570":7,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":7*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22874.png","\u5907\u6ce8":"\u6bcf\u5c42\u53ef\u4ee5\u91ca\u653e\u4e00\u6b21\u4e8c\u5f0f"},"\u626c\u5c18":{"\u540d\u79f0":"\u626c\u5c18","\u6700\u5927\u5c42\u6570":7,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":20*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22993.png","\u5907\u6ce8":"\u6bcf\u5c42\u63d0\u9ad8\u7ecf\u8109\u5faa\u884c1\u70b9\u79d2\u56de"},"\u626c\u5c18\u589e\u4f24":{"\u540d\u79f0":"\u626c\u5c18\u589e\u4f24","\u6700\u5927\u5c42\u6570":7,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":2*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22993.png","\u5907\u6ce8":"\u6bcf\u5c42\u63d0\u9ad8\u626c\u5c18\u4e8c\u5f0f\u4f24\u5bb3"},"\u6a2a\u9a71\u98ce\u9761":{"\u540d\u79f0":"\u6a2a\u9a71\u98ce\u9761","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":8*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/22814.png","\u5907\u6ce8":"\u88ab\u629f\u98ce\u4ee4\u5f3a\u5316\uff0c\u6bcf0.75\u79d2\u9020\u6210\u4e00\u6b21\u4f24\u5bb3"},"\u6a59\u6b66":{"\u540d\u79f0":"\u6a59\u6b66","\u6700\u5927\u5c42\u6570":1,"\u6700\u5927\u6301\u7eed\u65f6\u95f4":8*b.DH,"\u56fe\u6807":"https://icon.jx3box.com/icon/2589.png","\u5907\u6ce8":"\u5148\u5199\u7740\u73a9\u7684\uff0c\u5047\u8bbe\u65bd\u5c55\u201c\u5f15\u7a8d\u201d\u4e0d\u6d88\u8017\u80fd\u91cf\u4e14\u65e0\u8c03\u606f"}},C=l=>{const i={};for(let a=0;a<l.length;a++){var s,n;const r=l[a],h=(null===r||void 0===r||null===(s=r.\u5176\u4ed6\u6570\u636e)||void 0===s?void 0:s.\u4f24\u5bb3\u6b21\u6570)||1,f=(null===r||void 0===r||null===(n=r.\u5176\u4ed6\u6570\u636e)||void 0===n?void 0:n.\u6280\u80fd\u7b49\u7ea7)||1;if("\u9020\u6210\u4f24\u5bb3"===(null===r||void 0===r?void 0:r.\u65e5\u5fd7\u7c7b\u578b)){var o,t,d;const l=A(null===r||void 0===r?void 0:r.\u65e5\u5fd7),s=`${l}_${f}`;let n=(null===(o=i[s])||void 0===o?void 0:o.\u6280\u80fd\u589e\u76ca\u5217\u8868)||[];var e,u,v;if(null!==(t=n)&&void 0!==t&&t.length){if(null!==r&&void 0!==r&&null!==(e=r.buff\u5217\u8868)&&void 0!==e&&e.length){let l=!0;var c;if(n=n.map((i=>{var s,n;const o=(null===i||void 0===i||null===(s=i.\u589e\u76ca\u540d\u79f0)||void 0===s?void 0:s.split(","))||[];return(null===o||void 0===o?void 0:o.length)!==(null===r||void 0===r||null===(n=r.buff\u5217\u8868)||void 0===n?void 0:n.length)||null!==o&&void 0!==o&&o.some((l=>{var i;return!(null!==r&&void 0!==r&&null!==(i=r.buff\u5217\u8868)&&void 0!==i&&i.includes(l))}))?{...i}:(l=!1,{"\u589e\u76ca\u540d\u79f0":i.\u589e\u76ca\u540d\u79f0,"\u589e\u76ca\u6280\u80fd\u6570":i.\u589e\u76ca\u6280\u80fd\u6570+h})})),l)n=n.concat({"\u589e\u76ca\u540d\u79f0":null===r||void 0===r||null===(c=r.buff\u5217\u8868)||void 0===c?void 0:c.join(","),"\u589e\u76ca\u6280\u80fd\u6570":h})}}else if(null!==r&&void 0!==r&&null!==(u=r.buff\u5217\u8868)&&void 0!==u&&u.length)n=n.concat([{"\u589e\u76ca\u540d\u79f0":null===r||void 0===r||null===(v=r.buff\u5217\u8868)||void 0===v?void 0:v.join(","),"\u589e\u76ca\u6280\u80fd\u6570":h}]);i[s]={...i[s],"\u6280\u80fd\u540d\u79f0":l,"\u6280\u80fd\u7b49\u7ea7":f,"\u6280\u80fd\u6570\u91cf":((null===(d=i[s])||void 0===d?void 0:d.\u6280\u80fd\u6570\u91cf)||0)+h,"\u6280\u80fd\u589e\u76ca\u5217\u8868":[...n]}}}return Object.keys(i).map((l=>{var s;const n=i[l];return{...n,"\u6280\u80fd\u6570\u91cf":Math.round(n.\u6280\u80fd\u6570\u91cf),"\u6280\u80fd\u589e\u76ca\u5217\u8868":null===(s=n.\u6280\u80fd\u589e\u76ca\u5217\u8868)||void 0===s?void 0:s.map((l=>({...l,"\u589e\u76ca\u6280\u80fd\u6570":Math.round(l.\u589e\u76ca\u6280\u80fd\u6570)})))}}))},N={},A=l=>N[l]||l,G=(l,i)=>i?l:l.filter((l=>{var i;return!(null!==l&&void 0!==l&&null!==(i=l.\u6280\u80fd\u5e8f\u5217)&&void 0!==i&&i.includes("\u89e6\u53d1\u6a59\u6b66"))})),k=l=>{const i={};return Object.keys(y).forEach((s=>{const n=y[s];if("\u8d2f\u7a7f"===s)o="\u6851\u67d8",(null===l||void 0===l?void 0:l.includes(o))?(n.\u6700\u5927\u4f5c\u7528\u6b21\u6570=5,n.\u6700\u5927\u6301\u7eed\u65f6\u95f4=40):(n.\u6700\u5927\u4f5c\u7528\u6b21\u6570=4,n.\u6700\u5927\u6301\u7eed\u65f6\u95f4=32);var o;i[s]=n})),i},w={"\u5145\u80fd\u4e0d\u8db3":{"\u4fe1\u606f":"\u5f53\u524d\u6280\u80fd\u6ca1\u6709\u53ef\u91ca\u653e\u5c42\u6570"},"BUFF\u9519\u8bef":{"\u4fe1\u606f":"\u5f53\u524d\u6ca1\u6709\u5bf9\u5e94\u7684BUFF"}},H=l=>({0:0,1:206,2:9230,3:19280,4:30151,5:42047}[l]);const $=class{constructor(l){this.\u6a21\u62df\u5faa\u73af={},this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={},this.\u6a21\u62df\u5faa\u73af=l}"\u91ca\u653e\u524d\u521d\u59cb\u5316"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={}}"\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a"(l){var i,s,n,o;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const u=[...arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]];this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u7389\u6795")&&null!==(i=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==i&&null!==(s=i["\u7ecf\u8109\u5faa\u884c"])&&void 0!==s&&s.\u5f53\u524d\u5c42\u6570&&u.push("\u7389\u6795"),null===(n=(o=this.\u6a21\u62df\u5faa\u73af).\u6280\u80fd\u9020\u6210\u4f24\u5bb3)||void 0===n||n.call(o,l,t,u,d,!1,e)}"\u83b7\u53d6\u6280\u80fd\u91ca\u653e\u8bb0\u5f55\u7ed3\u679c"(){return{...this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55}}"\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868"(){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((l=>{var s,n;null!==(s=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==s&&null!==(n=s[l])&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570&&i.push(l)})),l.forEach((l=>{var s,n;null!==(s=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==s&&null!==(n=s[l])&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570&&i.push(l)})),i||[]}"\u83b7\u53d6\u65bd\u52a0\u91cd\u8981buff\u4fe1\u606f"(l){var i;const s=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0,n=null===(i=this.\u6a21\u62df\u5faa\u73af.Buff\u548cDot\u6570\u636e)||void 0===i?void 0:i[l];return n?{"buff\u540d\u79f0":l,"buff\u5f00\u59cb\u65f6\u95f4":s,"buff\u7ed3\u675f\u65f6\u95f4":s+((null===n||void 0===n?void 0:n.\u6700\u5927\u6301\u7eed\u65f6\u95f4)||0)}:null}};class M extends ${constructor(l){super(l)}"\u91ca\u653e"(){}"\u547d\u4e2d"(){var l,i,s,n,o,t,d,e,u,v,c,a,r,h,f,m,x,p,j,g,D,y,C,N,A,G;(null===this||void 0===this||null===(l=this.\u6a21\u62df\u5faa\u73af)||void 0===l||l.\u56de\u590d\u80fd\u91cf(15,"\u4efb\u8109"),null===(i=this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a)||void 0===i||i.call(this,"\u65ad\u8109"),null!==this&&void 0!==this&&null!==(s=this.\u6a21\u62df\u5faa\u73af)&&void 0!==s&&null!==(n=s.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==n&&null!==(o=n["\u5c01\u5e9c\u622a\u9633\u94fe"])&&void 0!==o&&o.\u5f53\u524d\u5c42\u6570)&&(null===(a=this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a)||void 0===a||a.call(this,"\u5c01\u5e9c"),null===(r=(h=this.\u6a21\u62df\u5faa\u73af).\u5378\u9664buff)||void 0===r||r.call(h,{"\u540d\u79f0":"\u5c01\u5e9c\u622a\u9633\u94fe","\u5bf9\u8c61":"\u81ea\u8eab","\u5378\u9664\u5c42\u6570":1}));null!==(t=(d=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==t&&t.call(d,"\u5c01\u5e9c")&&(null===(f=(m=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===f||f.call(m,{"\u540d\u79f0":"\u5c01\u5e9c\u65ad\u8109\u94fe","\u5bf9\u8c61":"\u81ea\u8eab"}));null!==(e=(u=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==e&&e.call(u,"\u53cd\u6734")&&(null===(x=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===x||null===(p=x.\u5f15\u7a8d)||void 0===p||null===(j=p.\u51cf\u5c11\u8c03\u606f\u65f6\u95f4)||void 0===j||j.call(p,1*b.DH),null===(g=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===g||null===(D=g.\u622a\u9633)||void 0===D||null===(y=D.\u51cf\u5c11\u8c03\u606f\u65f6\u95f4)||void 0===y||y.call(D,1*b.DH));null!==(v=(c=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==v&&v.call(c,"\u536b\u5206")&&(null!==this&&void 0!==this&&null!==(C=this.\u6a21\u62df\u5faa\u73af)&&void 0!==C&&null!==(N=C.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==N&&null!==(A=N["\u7edd\u8109"])&&void 0!==A&&A.\u5f53\u524d\u5c42\u6570||null===this||void 0===this||null===(G=this.\u6a21\u62df\u5faa\u73af)||void 0===G||G.\u56de\u590d\u80fd\u91cf(15,"\u4efb\u8109"));this.\u6a21\u62df\u5faa\u73af.\u5224\u65ad\u9006\u8109(),this.\u6a21\u62df\u5faa\u73af.\u5224\u65ad\u626c\u5c18(),this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={"\u91cd\u8981buff\u5217\u8868":this.\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868(["\u51fa\u5cab"])}}}M.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u65ad\u8109"===l.\u6280\u80fd\u540d\u79f0));const S=M;const O=class extends ${constructor(l){super(l),this.\u6280\u80fd\u8fd0\u884c\u6570\u636e={"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[]}}"\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e"(){this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9=[]}"\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e"(l){this.\u6280\u80fd\u8fd0\u884c\u6570\u636e={...this.\u6280\u80fd\u8fd0\u884c\u6570\u636e,...l}}};class z extends O{constructor(l){var i;super(l),z.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u622a\u9633"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u51cf\u5c11\u8c03\u606f\u65f6\u95f4"(l){const i=this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if(null!==i&&void 0!==i&&i.length){var s;const n=null===(s=i.map((i=>i-l)))||void 0===s?void 0:s.filter((l=>l>this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4));this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":n})}}"\u547d\u4e2d"(){var l,i,s,n,o,t,d,e,u,v,c,a,r,h,f,m,x,p;(null===this||void 0===this||null===(l=this.\u6a21\u62df\u5faa\u73af)||void 0===l||l.\u56de\u590d\u80fd\u91cf(20,"\u7763\u8109"),null===(i=this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a)||void 0===i||i.call(this,"\u622a\u9633"),null===(s=(n=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===s||s.call(n,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}),null===(o=(t=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===o||o.call(t,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}),null===(d=(e=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===d||d.call(e,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}),null!==this&&void 0!==this&&null!==(u=this.\u6a21\u62df\u5faa\u73af)&&void 0!==u&&null!==(v=u.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==v&&null!==(c=v["\u5c01\u5e9c\u65ad\u8109\u94fe"])&&void 0!==c&&c.\u5f53\u524d\u5c42\u6570)&&(null===(h=this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a)||void 0===h||h.call(this,"\u5c01\u5e9c"),null===(f=(m=this.\u6a21\u62df\u5faa\u73af).\u5378\u9664buff)||void 0===f||f.call(m,{"\u540d\u79f0":"\u5c01\u5e9c\u65ad\u8109\u94fe","\u5bf9\u8c61":"\u81ea\u8eab","\u5378\u9664\u5c42\u6570":1}));null!==(a=(r=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==a&&a.call(r,"\u5c01\u5e9c")&&(null===(x=(p=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===x||x.call(p,{"\u540d\u79f0":"\u5c01\u5e9c\u622a\u9633\u94fe","\u5bf9\u8c61":"\u81ea\u8eab"}));this.\u6a21\u62df\u5faa\u73af.\u5224\u65ad\u626c\u5c18(),this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={"\u91cd\u8981buff\u5217\u8868":this.\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868(["\u51fa\u5cab"])}}}z.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u622a\u9633"===l.\u6280\u80fd\u540d\u79f0));const F=z;class E extends O{constructor(l){var i;super(l),E.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u5f15\u7a8d"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u51cf\u5c11\u8c03\u606f\u65f6\u95f4"(l){const i=this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if(null!==i&&void 0!==i&&i.length){var s;const n=null===(s=i.map((i=>i-l)))||void 0===s?void 0:s.filter((l=>l>this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4));this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":n})}}"\u91cd\u7f6e\u8c03\u606f\u65f6\u95f4"(){this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[]})}"\u91ca\u653e\u540e"(){E.\u91ca\u653e\u91cd\u7f6e&&this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[]}),E.\u91ca\u653e\u91cd\u7f6e=!1}"\u547d\u4e2d"(){var l,i,s,n,o,t,d,e,u,v,c,a;(E.\u91ca\u653e\u91cd\u7f6e=!1,this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u60ac\u67a2"))&&(null===(u=(v=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===u||u.call(v,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}),null===(c=(a=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===c||c.call(a,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}));const r=(null===(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)||void 0===l||null===(i=l["\u7edd\u8109"])||void 0===i?void 0:i.\u5f53\u524d\u5c42\u6570)||0;this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7edd\u8109",1,[],void 0,2),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":"\u5f15\u7a8d\u5f15\u7206\u7edd\u8109\u7b49\u7ea72","\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"}),null===(s=(n=this.\u6a21\u62df\u5faa\u73af).\u5378\u9664buff)||void 0===s||s.call(n,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807","\u5378\u9664\u5c42\u6570":2});const h=null===(o=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===o||null===(t=o["\u6a59\u6b66"])||void 0===t?void 0:t.\u5f53\u524d\u5c42\u6570,f=this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109,m=this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u7763\u8109,x=Math.ceil(Math.max(Math.min(.5*f,50),1))+1;f>0?(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5f15\u7a8d",1,[],void 0,x),this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7834",1,[],void 0,x)):(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5f15\u7a8d",1,[],void 0,1),this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7834",1,[],void 0,1)),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`\u5f15\u7a8d\u4f24\u5bb3\u7b49\u7ea7${x}`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"}),(null!==(d=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)&&void 0!==d&&d.\u7ecf\u8109\u5faa\u884c.\u7ecf\u8109\u5faa\u884c\u72b6\u6001\u6821\u9a8c()&&this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u4e18\u589f")||h)&&(E.\u91ca\u653e\u91cd\u7f6e=!0);const p=Math.floor(Math.min(r,.1*m));var b,j;p&&(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7edd\u8109",1,[],void 0,p),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`\u5f15\u7a8d\u5f15\u7206\u7edd\u8109\u7b49\u7ea7${p}`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"}),null===(b=(j=this.\u6a21\u62df\u5faa\u73af).\u5378\u9664buff)||void 0===b||b.call(j,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807","\u5378\u9664\u5c42\u6570":p}));const g=this.\u6a21\u62df\u5faa\u73af.\u795e\u5c01\u6821\u9a8c();var D,y;(this.\u6a21\u62df\u5faa\u73af.\u6d88\u8017\u5f53\u524d\u4e00\u534a\u80fd\u91cf(),g&&this.\u6a21\u62df\u5faa\u73af.\u795e\u5c01\u89e6\u53d1(),h)&&(null===this||void 0===this||null===(D=this.\u6a21\u62df\u5faa\u73af)||void 0===D||D.\u56de\u590d\u80fd\u91cf(30,"\u4efb\u8109"),null===this||void 0===this||null===(y=this.\u6a21\u62df\u5faa\u73af)||void 0===y||y.\u56de\u590d\u80fd\u91cf(30,"\u7763\u8109"));null===(e=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===e||e.\u7ecf\u8109\u5faa\u884c.\u7ecf\u8109\u5faa\u884c\u5378\u9664\u6821\u9a8c(),this.\u6a21\u62df\u5faa\u73af.\u5224\u65ad\u626c\u5c18(),this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={"\u91cd\u8981buff\u5217\u8868":this.\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868(["\u51fa\u5cab"])}}}E.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u5f15\u7a8d"===l.\u6280\u80fd\u540d\u79f0)),E.\u91ca\u653e\u91cd\u7f6e=!1;const T=E;class I extends O{constructor(l){var i;super(l),I.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u7834\u7a74"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u547d\u4e2d"(){var l,i,s,n,o,t,d,e,u,v,c;null!==(l=(i=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==l&&l.call(i,"\u795e\u95e8")&&null!==(s=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)&&void 0!==s&&s.\u7ecf\u8109\u5faa\u884c.\u7ecf\u8109\u5faa\u884c\u72b6\u6001\u6821\u9a8c()&&(null===(v=(c=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===v||v.call(c,{"\u540d\u79f0":"\u795e\u95e8","\u5bf9\u8c61":"\u81ea\u8eab"}));if(null===(n=this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a)||void 0===n||n.call(this,"\u7834\u7a74"),null!==(o=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)&&void 0!==o&&null!==(t=o.\u7ecf\u8109\u5faa\u884c)&&void 0!==t&&t.\u7ecf\u8109\u5faa\u884c\u72b6\u6001\u6821\u9a8c()){var a;const l=this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109,i=Math.ceil(Math.max(Math.min(.5*l,50),1))+1;this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7834",1,[],void 0,i||1);const s=this.\u6a21\u62df\u5faa\u73af.\u795e\u5c01\u6821\u9a8c();this.\u6a21\u62df\u5faa\u73af.\u6d88\u8017\u5f53\u524d\u4e00\u534a\u80fd\u91cf(),s&&this.\u6a21\u62df\u5faa\u73af.\u795e\u5c01\u89e6\u53d1(),null===(a=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===a||a.\u7ecf\u8109\u5faa\u884c.\u7ecf\u8109\u5faa\u884c\u5378\u9664\u6821\u9a8c()}else{var r,h,f,m,x,p;if(null!==(r=(h=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==r&&r.call(h,"\u7136\u8c37"))null===this||void 0===this||null===(f=this.\u6a21\u62df\u5faa\u73af)||void 0===f||f.\u56de\u590d\u80fd\u91cf(30,"\u4efb\u8109"),null===this||void 0===this||null===(m=this.\u6a21\u62df\u5faa\u73af)||void 0===m||m.\u56de\u590d\u80fd\u91cf(30,"\u7763\u8109");else null===this||void 0===this||null===(x=this.\u6a21\u62df\u5faa\u73af)||void 0===x||x.\u56de\u590d\u80fd\u91cf(15,"\u4efb\u8109"),null===this||void 0===this||null===(p=this.\u6a21\u62df\u5faa\u73af)||void 0===p||p.\u56de\u590d\u80fd\u91cf(15,"\u7763\u8109")}null===(d=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===d||null===(e=d.\u4e00\u9633\u6765\u590d)||void 0===e||null===(u=e.\u51cf\u5c11\u8c03\u606f\u65f6\u95f4)||void 0===u||u.call(e,8*b.DH),this.\u6a21\u62df\u5faa\u73af.\u5224\u65ad\u626c\u5c18(),this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={"\u91cd\u8981buff\u5217\u8868":this.\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868(["\u51fa\u5cab"])}}}I.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u7834\u7a74"===l.\u6280\u80fd\u540d\u79f0));const B=I;class q extends O{constructor(l){var i;super(l),q.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u96fe\u5203\u98de\u5149"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u91ca\u653e"(){}}q.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u96fe\u5203\u98de\u5149"===l.\u6280\u80fd\u540d\u79f0));const P=q;var _=s(2979);class U extends O{constructor(l){var i,s;super(l),U.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u9aa4\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0));const n=H(this.\u6a21\u62df\u5faa\u73af.\u52a0\u901f\u7b49\u7ea7);if(null!==U&&void 0!==U&&null!==(s=U.\u6280\u80fd\u6570\u636e)&&void 0!==s&&s.\u6280\u80fdCD){const l=25*b.DH,i=(0,f.YA)(l,n);U.\u6280\u80fd\u6570\u636e.\u6280\u80fdCD=i}this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u547d\u4e2d"(){this.\u521b\u5efaNPC\u9aa4\u98ce\u6301\u7eed\u9020\u6210\u4f24\u5bb3(),this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u832b\u7f08")&&this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0buff({"\u540d\u79f0":"\u832b\u7f08","\u5bf9\u8c61":"\u81ea\u8eab"})}"\u51cf\u5c11\u8c03\u606f\u65f6\u95f4"(l){const i=this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if(null!==i&&void 0!==i&&i.length){var s;const n=null===(s=i.map((i=>i-l)))||void 0===s?void 0:s.filter((l=>l>this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4));this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":n})}}"\u521b\u5efaNPC\u9aa4\u98ce\u6301\u7eed\u9020\u6210\u4f24\u5bb3"(){const l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0,i=(0,_.U4)(10).map((i=>({"\u4e8b\u4ef6\u540d\u79f0":"\u9aa4\u98ce\u9020\u6210\u4f24\u5bb3","\u4e8b\u4ef6\u65f6\u95f4":l+12*i})));this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217(i),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0buff({"\u540d\u79f0":"\u9aa4\u98ce","\u5bf9\u8c61":"\u76ee\u6807"})}"\u9aa4\u98ce\u9020\u6210\u4f24\u5bb3"(){this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u9aa4\u98ce")}}U.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u9aa4\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0));const Y=U;class L extends O{constructor(l){var i,s;super(l),L.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u5288\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0));const n=H(this.\u6a21\u62df\u5faa\u73af.\u52a0\u901f\u7b49\u7ea7);if(null!==L&&void 0!==L&&null!==(s=L.\u6280\u80fd\u6570\u636e)&&void 0!==s&&s.\u6280\u80fdCD){const l=8*b.DH,i=(0,f.YA)(l,n);L.\u6280\u80fd\u6570\u636e.\u6280\u80fdCD=i}this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u68c0\u67e5GCD"(l){var i,s,n,o,t,d;const e=null===(i=this.\u6a21\u62df\u5faa\u73af)||void 0===i||null===(s=i.\u6d4b\u8bd5\u5faa\u73af)||void 0===s?void 0:s[l-1],u=null===(n=this.\u6a21\u62df\u5faa\u73af)||void 0===n||null===(o=n.\u6d4b\u8bd5\u5faa\u73af)||void 0===o?void 0:o[l+1];let v=(null===(t=this.\u6a21\u62df\u5faa\u73af)||void 0===t||null===(d=t.GCD\u7ec4)||void 0===d?void 0:d["\u516c\u5171"])||0;if(u&&"\u98ce\u6d41\u4e91\u6563"===e&&this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u832b\u7f08")){var c,a;const i=null===this||void 0===this||null===(c=this.\u6a21\u62df\u5faa\u73af)||void 0===c||null===(a=c.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===a?void 0:a.find((l=>(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)===u));if(i&&null!==i&&void 0!==i&&i.\u6280\u80fdGCD\u7ec4){var r,h,f,m;const s=null===this||void 0===this||null===(r=this.\u6a21\u62df\u5faa\u73af)||void 0===r||null===(h=r.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===h?void 0:h[null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0];v=(null===(f=this.\u6a21\u62df\u5faa\u73af)||void 0===f||null===(m=f.\u68c0\u67e5GCD)||void 0===m?void 0:m.call(f,i,s,l+1))||0}}return v}"\u91ca\u653e"(){}"\u91cd\u7f6e\u8c03\u606f\u65f6\u95f4"(){this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[]})}"\u547d\u4e2d"(){var l,i,s,n,o,t,d,e,u,v;(null!==(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u9aa4\u98ce"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570||null!==(s=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==s&&null!==(n=s["\u6a2a\u9a71\u98ce\u9761"])&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570?(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5288\u98ce\u5203"),this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5288\u98ce\u4ee4\xb7\u9aa4")):this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5288\u98ce\u5203"),this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u7eb7\u98d9"))&&(null===(o=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===o||null===(t=o.\u629f\u98ce\u4ee4)||void 0===t||null===(d=t.\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11CD)||void 0===d||d.call(t),null===(e=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===e||null===(u=e.\u629f\u98ce\u4ee4\u65ad)||void 0===u||null===(v=u.\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11CD)||void 0===v||v.call(u));this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u6467\u70df")&&this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u50ac\u70df"),this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7834",1,[],void 0,25),this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={"\u91cd\u8981buff\u5217\u8868":this.\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868(["\u51fa\u5cab"])}}}L.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u5288\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0));const V=L;class W extends ${constructor(l){super(l)}"\u68c0\u67e5GCD"(l){var i,s,n,o,t,d;const e=null===(i=this.\u6a21\u62df\u5faa\u73af)||void 0===i||null===(s=i.\u6d4b\u8bd5\u5faa\u73af)||void 0===s?void 0:s[l-1],u=null===(n=this.\u6a21\u62df\u5faa\u73af)||void 0===n||null===(o=n.\u6d4b\u8bd5\u5faa\u73af)||void 0===o?void 0:o[l+1];let v=(null===(t=this.\u6a21\u62df\u5faa\u73af)||void 0===t||null===(d=t.GCD\u7ec4)||void 0===d?void 0:d["\u516c\u5171"])||0;if(u&&"\u98ce\u6d41\u4e91\u6563"===e&&this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u832b\u7f08")){var c,a;const i=null===this||void 0===this||null===(c=this.\u6a21\u62df\u5faa\u73af)||void 0===c||null===(a=c.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===a?void 0:a.find((l=>(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)===u));if(i&&null!==i&&void 0!==i&&i.\u6280\u80fdGCD\u7ec4){var r,h,f,m;const s=null===this||void 0===this||null===(r=this.\u6a21\u62df\u5faa\u73af)||void 0===r||null===(h=r.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===h?void 0:h[null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0];v=(null===(f=this.\u6a21\u62df\u5faa\u73af)||void 0===f||null===(m=f.\u68c0\u67e5GCD)||void 0===m?void 0:m.call(f,i,s,l+1))||0}return v||0}return 0}"\u91ca\u653e"(){var l,i;return null!==(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u832b\u7f08"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570?{"\u53ef\u4ee5\u91ca\u653e":!0}:{"\u53ef\u4ee5\u91ca\u653e":!1,"\u5f02\u5e38\u4fe1\u606f":w.BUFF\u9519\u8bef}}"\u547d\u4e2d"(){var l,i,s,n,o,t,d,e,u,v;(null!==(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u9aa4\u98ce"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570||null!==(s=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==s&&null!==(n=s["\u6a2a\u9a71\u98ce\u9761"])&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570?(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5288\u98ce\u5203"),this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5288\u98ce\u4ee4\xb7\u9aa4")):this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u5288\u98ce\u5203"),this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u7eb7\u98d9"))&&(null===(o=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===o||null===(t=o.\u629f\u98ce\u4ee4)||void 0===t||null===(d=t.\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11CD)||void 0===d||d.call(t),null===(e=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===e||null===(u=e.\u629f\u98ce\u4ee4\u65ad)||void 0===u||null===(v=u.\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11CD)||void 0===v||v.call(u));this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u6467\u70df")&&this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u50ac\u70df"),this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u7834",1,[],void 0,25),this.\u6a21\u62df\u5faa\u73af.\u5378\u9664buff({"\u540d\u79f0":"\u832b\u7f08","\u5bf9\u8c61":"\u81ea\u8eab"}),this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55={"\u91cd\u8981buff\u5217\u8868":this.\u83b7\u53d6\u5f53\u524d\u91cd\u8981buff\u5217\u8868(["\u51fa\u5cab"])}}}W.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u9aa4\u98ce\u5288\u98ce"===l.\u6280\u80fd\u540d\u79f0));const R=W;class Z extends O{constructor(l){var i,s;super(l),Z.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u629f\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0));const n=H(this.\u6a21\u62df\u5faa\u73af.\u52a0\u901f\u7b49\u7ea7);if(Z.\u603b\u4f5c\u7528\u5e27=(0,f.YA)(32,n),null!==Z&&void 0!==Z&&null!==(s=Z.\u6280\u80fd\u6570\u636e)&&void 0!==s&&s.\u6280\u80fdCD){const l=55*b.DH;let i=(0,f.YA)(l,n);this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u6e05\u6fc0")&&(i-=10*b.DH),Z.\u6280\u80fd\u6570\u636e.\u6280\u80fdCD=i}this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u83b7\u53d6\u8bfb\u6761\u65f6\u95f4"(){return Z.\u603b\u4f5c\u7528\u5e27}"\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11CD"(){const l=this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9,i=null===l||void 0===l?void 0:l[0];if(i>this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4){const l=i-(this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0);if(l>0){var s,n;const o=Math.floor(.05*l),t=Math.max(i-o,0);t<=(this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0)?this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[]}):this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[t]}),null===(s=(n=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7)||void 0===s||s.call(n,{"\u65e5\u5fd7":`\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11\u629f\u98ce\u4ee4\u8c03\u606f\u65f6\u95f4\uff0c\u91ca\u653eCD\u65f6\u95f4\u53d8\u4e3a${t}`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"})}}}"\u8bfb\u6761"(l){var i,s,n;(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u629f\u98ce\u4ee4"),this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u6467\u70df"))&&(null===(i=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===i||null===(s=i.\u5288\u98ce\u4ee4)||void 0===s||null===(n=s.\u91cd\u7f6e\u8c03\u606f\u65f6\u95f4)||void 0===n||n.call(s));this.\u5904\u7406\u9aa4\u98ce\u4ee4(l),this.\u8bfb\u6761\u629f\u98ce\u4ee4(l)}"\u5904\u7406\u9aa4\u98ce\u4ee4"(l){var i,s;this.\u6a21\u62df\u5faa\u73af.\u5f85\u751f\u6548\u4e8b\u4ef6\u7ed3\u7b97(l);const n=null===this||void 0===this||null===(i=this.\u6a21\u62df\u5faa\u73af)||void 0===i||null===(s=i.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)||void 0===s?void 0:s["\u9aa4\u98ce"];if(null!==n&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570){const i=((null===n||void 0===n?void 0:n.\u5237\u65b0\u65f6\u95f4)||0)+8*b.DH-l+8*b.DH,s=Math.min(Math.floor(i/12),11);this.\u7eed\u8d39NPC\u9aa4\u98ce\u6301\u7eed\u9020\u6210\u4f24\u5bb3(s,l),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`\u629f\u98ce\u4ee4\u7eed\u8d39\u9aa4\u98ce\u4ee4${s}\u6b21`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"})}}"\u7eed\u8d39NPC\u9aa4\u98ce\u6301\u7eed\u9020\u6210\u4f24\u5bb3"(l,i){const s=(0,_.U4)(l).map((l=>({"\u4e8b\u4ef6\u540d\u79f0":"\u6a2a\u9a71\u98ce\u9761\u9020\u6210\u4f24\u5bb3","\u4e8b\u4ef6\u65f6\u95f4":i+12*l})));this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217(s),this.\u6a21\u62df\u5faa\u73af.\u5220\u9664\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217("\u9aa4\u98ce\u9020\u6210\u4f24\u5bb3"),this.\u6a21\u62df\u5faa\u73af.\u5378\u9664buff({"\u540d\u79f0":"\u9aa4\u98ce","\u5bf9\u8c61":"\u76ee\u6807"}),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0buff({"\u540d\u79f0":"\u6a2a\u9a71\u98ce\u9761","\u5bf9\u8c61":"\u76ee\u6807"})}"\u8bfb\u6761\u629f\u98ce\u4ee4"(l){const i=[{"\u4e8b\u4ef6\u540d\u79f0":"\u6280\u80fd\u8bfb\u6761","\u4e8b\u4ef6\u65f6\u95f4":l+Z.\u603b\u4f5c\u7528\u5e27,"\u4e8b\u4ef6\u5907\u6ce8":{"\u6280\u80fd\u540d\u79f0":"\u629f\u98ce\u4ee4"}}];this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217(i)}"\u8bfb\u6761\u4f24\u5bb3"(){this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u629f\u98ce\u4ee4\xb7\u7206")}"\u6a2a\u9a71\u98ce\u9761\u9020\u6210\u4f24\u5bb3"(){this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u6a2a\u9a71\u98ce\u9761")}}Z.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u629f\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0)),Z.\u603b\u4f5c\u7528\u5e27=32;const J=Z;class K extends O{constructor(l){var i,s;super(l),K.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u629f\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0));const n=H(this.\u6a21\u62df\u5faa\u73af.\u52a0\u901f\u7b49\u7ea7);if(null!==K&&void 0!==K&&null!==(s=K.\u6280\u80fd\u6570\u636e)&&void 0!==s&&s.\u6280\u80fdCD){const l=55*b.DH;let i=(0,f.YA)(l,n);this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u6e05\u6fc0")&&(i-=10*b.DH),K.\u6280\u80fd\u6570\u636e.\u6280\u80fdCD=i}this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u83b7\u53d6\u8bfb\u6761\u65f6\u95f4"(){return K.\u603b\u4f5c\u7528\u5e27}"\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11CD"(){const l=this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9,i=null===l||void 0===l?void 0:l[0];if(i>this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4){const l=i-(this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0);if(l>0){var s,n;const o=Math.floor(.05*l),t=Math.max(i-o,0);t<=(this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0)?this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[]}):this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":[t]}),null===(s=(n=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7)||void 0===s||s.call(n,{"\u65e5\u5fd7":`\u7eb7\u98d9\u89e6\u53d1\u51cf\u5c11\u629f\u98ce\u4ee4\u8c03\u606f\u65f6\u95f4\uff0c\u91ca\u653eCD\u65f6\u95f4\u53d8\u4e3a${t}`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"})}}}"\u8bfb\u6761"(l){var i,s,n;(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u629f\u98ce\u4ee4"),this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u6467\u70df"))&&(null===(i=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===i||null===(s=i.\u5288\u98ce\u4ee4)||void 0===s||null===(n=s.\u91cd\u7f6e\u8c03\u606f\u65f6\u95f4)||void 0===n||n.call(s));this.\u5904\u7406\u9aa4\u98ce\u4ee4(l),this.\u8bfb\u6761\u629f\u98ce\u4ee4(l)}"\u5904\u7406\u9aa4\u98ce\u4ee4"(l){var i,s;this.\u6a21\u62df\u5faa\u73af.\u5f85\u751f\u6548\u4e8b\u4ef6\u7ed3\u7b97(l);const n=null===this||void 0===this||null===(i=this.\u6a21\u62df\u5faa\u73af)||void 0===i||null===(s=i.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)||void 0===s?void 0:s["\u9aa4\u98ce"];if(null!==n&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570){const i=((null===n||void 0===n?void 0:n.\u5237\u65b0\u65f6\u95f4)||0)+8*b.DH-l+8*b.DH,s=Math.min(Math.floor(i/12),11);this.\u7eed\u8d39NPC\u9aa4\u98ce\u6301\u7eed\u9020\u6210\u4f24\u5bb3(s,l),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`\u629f\u98ce\u4ee4\u65ad\u7eed\u8d39\u9aa4\u98ce\u4ee4${s}\u6b21`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"})}}"\u7eed\u8d39NPC\u9aa4\u98ce\u6301\u7eed\u9020\u6210\u4f24\u5bb3"(l,i){const s=(0,_.U4)(l).map((l=>({"\u4e8b\u4ef6\u540d\u79f0":"\u6a2a\u9a71\u98ce\u9761\u9020\u6210\u4f24\u5bb3","\u4e8b\u4ef6\u65f6\u95f4":i+12*l})));this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217(s),this.\u6a21\u62df\u5faa\u73af.\u5220\u9664\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217("\u9aa4\u98ce\u9020\u6210\u4f24\u5bb3"),this.\u6a21\u62df\u5faa\u73af.\u5378\u9664buff({"\u540d\u79f0":"\u9aa4\u98ce","\u5bf9\u8c61":"\u76ee\u6807"}),this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0buff({"\u540d\u79f0":"\u6a2a\u9a71\u98ce\u9761","\u5bf9\u8c61":"\u76ee\u6807"})}"\u8bfb\u6761\u629f\u98ce\u4ee4"(l){const i=[{"\u4e8b\u4ef6\u540d\u79f0":"\u6280\u80fd\u8bfb\u6761","\u4e8b\u4ef6\u65f6\u95f4":l+K.\u603b\u4f5c\u7528\u5e27,"\u4e8b\u4ef6\u5907\u6ce8":{"\u6280\u80fd\u540d\u79f0":"\u629f\u98ce\u4ee4"}}];this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217(i)}"\u8bfb\u6761\u4f24\u5bb3"(){this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u629f\u98ce\u4ee4\xb7\u7206")}"\u6a2a\u9a71\u98ce\u9761\u9020\u6210\u4f24\u5bb3"(){this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u6a2a\u9a71\u98ce\u9761")}}K.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u629f\u98ce\u4ee4"===l.\u6280\u80fd\u540d\u79f0)),K.\u603b\u4f5c\u7528\u5e27=24;const Q=K;class X extends O{constructor(l){var i;super(l),X.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u96ea\u91cd\u82b1\u6ee1"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u91ca\u653e"(){}}X.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u96ea\u91cd\u82b1\u6ee1"===l.\u6280\u80fd\u540d\u79f0));const ll=X;class il extends O{constructor(l){var i;super(l),il.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u6714\u98ce\u626c\u5c18\u4e00"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u91ca\u653e"(){}"\u547d\u4e2d"(){var l;null===(l=this.\u6a21\u62df\u5faa\u73af)||void 0===l||l.\u6dfb\u52a0buff({"\u540d\u79f0":"\u6714\u98ce\u626c\u5c18","\u5bf9\u8c61":"\u81ea\u8eab","\u65b0\u589e\u5c42\u6570":7})}}il.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u6714\u98ce\u626c\u5c18\u4e00"===l.\u6280\u80fd\u540d\u79f0));const sl=il;class nl extends ${constructor(l){super(l)}"\u91ca\u653e"(){var l,i;return null!==(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u6714\u98ce\u626c\u5c18"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570?{"\u53ef\u4ee5\u91ca\u653e":!0}:{"\u53ef\u4ee5\u91ca\u653e":!1,"\u5f02\u5e38\u4fe1\u606f":w.BUFF\u9519\u8bef}}"\u547d\u4e2d"(){var l,i,s,n,o,t;if(null!==(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u6714\u98ce\u626c\u5c18"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570){var d,e,u;const l=(null===(d=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===d||null===(e=d["\u6714\u98ce\u626c\u5c18"])||void 0===e?void 0:e.\u5f53\u524d\u5c42\u6570)||1;this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868["\u6714\u98ce\u626c\u5c18"]={...null===(u=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===u?void 0:u["\u6714\u98ce\u626c\u5c18"],"\u5f53\u524d\u5c42\u6570":l-1}}null===(s=this.\u6a21\u62df\u5faa\u73af)||void 0===s||s.\u6dfb\u52a0buff({"\u540d\u79f0":"\u626c\u5c18","\u5bf9\u8c61":"\u81ea\u8eab","\u65b0\u589e\u5c42\u6570":1}),null===(n=this.\u6a21\u62df\u5faa\u73af)||void 0===n||n.\u6dfb\u52a0buff({"\u540d\u79f0":"\u626c\u5c18\u589e\u4f24","\u5bf9\u8c61":"\u81ea\u8eab","\u65b0\u589e\u5c42\u6570":1}),this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(5,"\u4efb\u8109"),this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(5,"\u7763\u8109");const v=(null===this||void 0===this||null===(o=this.\u6a21\u62df\u5faa\u73af)||void 0===o||null===(t=o.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868["\u626c\u5c18\u589e\u4f24"])||void 0===t?void 0:t.\u5f53\u524d\u5c42\u6570)||0,c=1+v;var a;(this.\u89e6\u53d1\u4f24\u5bb3\u884c\u4e3a("\u6714\u98ce\u626c\u5c18",1,[],void 0,c||1),7===v)&&(null===(a=this.\u6a21\u62df\u5faa\u73af)||void 0===a||a.\u5378\u9664buff({"\u540d\u79f0":"\u626c\u5c18\u589e\u4f24","\u5bf9\u8c61":"\u81ea\u8eab","\u5378\u9664\u5c42\u6570":7}))}}nl.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u6714\u98ce\u626c\u5c18\u4e8c"===l.\u6280\u80fd\u540d\u79f0));const ol=nl;class tl extends O{constructor(l){var i;super(l),tl.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u98ce\u6d41\u4e91\u6563"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u91ca\u653e"(){}"\u68c0\u67e5GCD"(l){var i,s,n,o;const t=null===(i=this.\u6a21\u62df\u5faa\u73af)||void 0===i||null===(s=i.\u6d4b\u8bd5\u5faa\u73af)||void 0===s?void 0:s[l+1];let d=(null===(n=this.\u6a21\u62df\u5faa\u73af)||void 0===n||null===(o=n.GCD\u7ec4)||void 0===o?void 0:o["\u98ce\u6d41\u4e91\u6563"])||0;if(t){var e,u;const i=null===this||void 0===this||null===(e=this.\u6a21\u62df\u5faa\u73af)||void 0===e||null===(u=e.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===u?void 0:u.find((l=>(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)===t));if(i&&null!==i&&void 0!==i&&i.\u6280\u80fdGCD\u7ec4){var v,c,a,r;const s=null===this||void 0===this||null===(v=this.\u6a21\u62df\u5faa\u73af)||void 0===v||null===(c=v.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===c?void 0:c[null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0];d=(null===(a=this.\u6a21\u62df\u5faa\u73af)||void 0===a||null===(r=a.\u68c0\u67e5GCD)||void 0===r?void 0:r.call(a,i,s,l+1))||0}}return d}"\u547d\u4e2d"(){var l,i,s;null!==(l=(i=this.\u6a21\u62df\u5faa\u73af).\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728)&&void 0!==l&&l.call(i,"\u51fa\u5cab")&&(null===this||void 0===this||null===(s=this.\u6a21\u62df\u5faa\u73af)||void 0===s||s.\u6dfb\u52a0buff({"\u540d\u79f0":"\u51fa\u5cab","\u5bf9\u8c61":"\u81ea\u8eab"}));this.\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55()}"\u4fdd\u5b58\u91ca\u653e\u8bb0\u5f55"(){const l=this.\u83b7\u53d6\u65bd\u52a0\u91cd\u8981buff\u4fe1\u606f("\u51fa\u5cab");this.\u672c\u6b21\u91ca\u653e\u8bb0\u5f55=l?{"\u9020\u6210buff\u6570\u636e":l}:{}}}tl.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u98ce\u6d41\u4e91\u6563"===l.\u6280\u80fd\u540d\u79f0));const dl=tl;class el extends O{constructor(l){var i;super(l),el.\u6280\u80fd\u6570\u636e=null===l||void 0===l||null===(i=l.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((l=>"\u4e00\u9633\u6765\u590d"===l.\u6280\u80fd\u540d\u79f0)),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u91ca\u653e"(){}"\u51cf\u5c11\u8c03\u606f\u65f6\u95f4"(l){const i=this.\u6280\u80fd\u8fd0\u884c\u6570\u636e.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if(null!==i&&void 0!==i&&i.length){var s;const n=null===(s=i.map((i=>i-l)))||void 0===s?void 0:s.filter((l=>l>this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4));this.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":n})}}"\u547d\u4e2d"(){this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(50,"\u4efb\u8109"),this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(50,"\u7763\u8109")}}el.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u4e00\u9633\u6765\u590d"===l.\u6280\u80fd\u540d\u79f0));const ul=el;class vl extends ${constructor(l){super(l)}"\u91ca\u653e"(){}"\u83b7\u5f97\u7ecf\u8109\u5faa\u884c"(){var l,i;const s=this.\u7ecf\u8109\u5faa\u884c\u72b6\u6001\u6821\u9a8c();null===(l=(i=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===l||l.call(i,{"\u540d\u79f0":"\u7ecf\u8109\u5faa\u884c","\u5bf9\u8c61":"\u81ea\u8eab"}),s||this.\u6dfb\u52a0\u7ecf\u8109\u5faa\u884c\u6bcf\u79d2\u56de\u590d\u4e8b\u4ef6()}"\u6dfb\u52a0\u7ecf\u8109\u5faa\u884c\u6bcf\u79d2\u56de\u590d\u4e8b\u4ef6"(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u65f6\u95f4||0;0===i&&(i=-(b.DH-l));const s=(0,_.U4)(1e3).map((l=>({"\u4e8b\u4ef6\u540d\u79f0":"\u7ecf\u8109\u5faa\u884c_\u79d2\u56de","\u4e8b\u4ef6\u65f6\u95f4":i+b.DH*l})));this.\u6a21\u62df\u5faa\u73af.\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217(s)}"\u7ecf\u8109\u5faa\u884c\u6bcf\u79d2\u56de\u590d"(){var l,i,s;if(this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(3,"\u4efb\u8109"),this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(3,"\u7763\u8109"),this.\u6a21\u62df\u5faa\u73af.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u76f8\u606f")&&(this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(2,"\u4efb\u8109"),this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(2,"\u7763\u8109")),null!==this&&void 0!==this&&null!==(l=this.\u6a21\u62df\u5faa\u73af)&&void 0!==l&&null!==(i=l.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==i&&null!==(s=i["\u626c\u5c18"])&&void 0!==s&&s.\u5f53\u524d\u5c42\u6570){var n,o,t;const l=(null===this||void 0===this||null===(n=this.\u6a21\u62df\u5faa\u73af)||void 0===n||null===(o=n.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===o||null===(t=o["\u626c\u5c18"])||void 0===t?void 0:t.\u5f53\u524d\u5c42\u6570)||1;this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(l,"\u4efb\u8109"),this.\u6a21\u62df\u5faa\u73af.\u56de\u590d\u80fd\u91cf(l,"\u7763\u8109")}}"\u521d\u59cb\u5316\u7ecf\u8109\u5faa\u884c"(l){this.\u6dfb\u52a0\u7ecf\u8109\u5faa\u884c\u6bcf\u79d2\u56de\u590d\u4e8b\u4ef6(l)}"\u7ecf\u8109\u5faa\u884c\u72b6\u6001\u6821\u9a8c"(){var l,i;return!(null===this||void 0===this||null===(l=this.\u6a21\u62df\u5faa\u73af.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===l||null===(i=l["\u7ecf\u8109\u5faa\u884c"])||void 0===i||!i.\u5f53\u524d\u5c42\u6570)}"\u7ecf\u8109\u5faa\u884c\u6dfb\u52a0\u6821\u9a8c"(){this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109>=50&&this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u7763\u8109>=50&&this.\u83b7\u5f97\u7ecf\u8109\u5faa\u884c()}"\u7ecf\u8109\u5faa\u884c\u5378\u9664\u6821\u9a8c"(){var l,i;(this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109<50||this.\u6a21\u62df\u5faa\u73af.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u7763\u8109<50)&&(null===(l=(i=this.\u6a21\u62df\u5faa\u73af).\u5378\u9664buff)||void 0===l||l.call(i,{"\u540d\u79f0":"\u7ecf\u8109\u5faa\u884c","\u5bf9\u8c61":"\u81ea\u8eab","\u5378\u9664\u5c42\u6570":1}),this.\u6a21\u62df\u5faa\u73af.\u5220\u9664\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217("\u7ecf\u8109\u5faa\u884c_\u79d2\u56de"))}}const cl=vl;class al extends O{constructor(l){super(l),this.\u521d\u59cb\u5316\u6280\u80fd\u8fd0\u884c\u6570\u636e()}"\u547d\u4e2d"(){var l,i,s,n,o,t,d;this.\u6a21\u62df\u5faa\u73af.\u5927\u6a59\u6b66\u6a21\u62df&&(null===(l=(i=this.\u6a21\u62df\u5faa\u73af).\u6dfb\u52a0buff)||void 0===l||l.call(i,{"\u540d\u79f0":"\u6a59\u6b66","\u5bf9\u8c61":"\u81ea\u8eab","\u65b0\u589e\u5c42\u6570":1}),null===(s=this.\u6a21\u62df\u5faa\u73af.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===s||null===(n=s.\u5f15\u7a8d)||void 0===n||null===(o=n.\u91cd\u7f6e\u8c03\u606f\u65f6\u95f4)||void 0===o||o.call(n),null===this||void 0===this||null===(t=this.\u6a21\u62df\u5faa\u73af)||void 0===t||t.\u56de\u590d\u80fd\u91cf(100,"\u4efb\u8109"),null===this||void 0===this||null===(d=this.\u6a21\u62df\u5faa\u73af)||void 0===d||d.\u56de\u590d\u80fd\u91cf(100,"\u7763\u8109"))}}al.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u89e6\u53d1\u6a59\u6b66"===l.\u6280\u80fd\u540d\u79f0));const rl=al;class hl extends ${constructor(l){super(l)}}hl.\u6280\u80fd\u6570\u636e=null===g||void 0===g?void 0:g.find((l=>"\u6362\u884c"===l.\u6280\u80fd\u540d\u79f0));const fl=hl,{"\u6280\u80fd\u7cfb\u6570":ml}=(0,x.A)();const xl=class{constructor(l){var i,s,n;this.\u5faa\u73af\u6267\u884c\u7ed3\u679c="\u6210\u529f",this.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f={"\u5f02\u5e38\u7d22\u5f15":0,"\u5f02\u5e38\u4fe1\u606f":""},this.\u6d4b\u8bd5\u5faa\u73af=[],this.\u5947\u7a74=[],this.\u52a0\u901f\u7b49\u7ea7=0,this.\u7f51\u7edc\u5ef6\u8fdf=0,this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f={"\u80fd\u91cf\u4fe1\u606f":{"\u4efb\u8109":100,"\u7763\u8109":100}},this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868={},this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868={},this.\u5f53\u524d\u65f6\u95f4=0,this.\u5f00\u59cb\u91ca\u653e\u4e0a\u4e00\u4e2a\u6280\u80fd\u7684\u65f6\u95f4=0,this.\u6218\u6597\u65e5\u5fd7=[],this.\u6280\u80fd\u91ca\u653e\u8bb0\u5f55=[],this.Buff\u548cDot\u6570\u636e={},this.\u6280\u80fd\u57fa\u7840\u6570\u636e=[],this.GCD\u7ec4={"\u516c\u5171":0,"\u81ea\u8eab":0},this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408={},this.\u98ce\u77e2\u4e0a\u6b21\u9020\u6210\u4f24\u5bb3\u65f6\u95f4=void 0,this.\u5927\u6a59\u6b66\u6a21\u62df=!1,this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217=[],this.\u8d77\u624b\u56de\u80fd\u5e27=8,this.\u666e\u901a\u653b\u51fb\u65e5\u5fd7=l=>{const i=l.filter((l=>"\u91ca\u653e\u6280\u80fd"===(null===l||void 0===l?void 0:l.\u65e5\u5fd7\u7c7b\u578b))),s=i.map(((l,s)=>{var n,o;const t=null===l||void 0===l||null===(n=l.\u65e5\u5fd7)||void 0===n?void 0:n.includes("\u629f\u98ce\u4ee4");return{"\u5f00\u59cb\u65f6\u95f4":null===l||void 0===l?void 0:l.\u65e5\u5fd7\u65f6\u95f4,"\u7ed3\u675f\u65f6\u95f4":i[s+1]?null===(o=i[s+1])||void 0===o?void 0:o.\u65e5\u5fd7\u65f6\u95f4:null===l||void 0===l?void 0:l.\u65e5\u5fd7\u65f6\u95f4,"\u662f\u5426\u8bfb\u6761":t}})).filter((l=>null===l||void 0===l?void 0:l.\u662f\u5426\u8bfb\u6761)),n=this.\u5f53\u524d\u65f6\u95f4,o=[...l],t=[];for(let d=0;d<n;d++)((t[t.length-1]||0)+16<=d||null===t||void 0===t||!t.length)&&(null!==s&&void 0!==s&&s.some((l=>(null===l||void 0===l?void 0:l.\u5f00\u59cb\u65f6\u95f4)<d&&(null===l||void 0===l?void 0:l.\u7ed3\u675f\u65f6\u95f4)>d))||t.push(d));return t.forEach((l=>{o.push({"\u65e5\u5fd7":"\u4e91\u5408\u6247\u6cd5","\u65e5\u5fd7\u7c7b\u578b":"\u9020\u6210\u4f24\u5bb3","\u65e5\u5fd7\u65f6\u95f4":l,"buff\u5217\u8868":["\u7389\u6795","\u795e\u95e8"]})})),o},this.\u6d4b\u8bd5\u5faa\u73af=l.\u6d4b\u8bd5\u5faa\u73af,this.\u5927\u6a59\u6b66\u6a21\u62df=l.\u5927\u6a59\u6b66\u6a21\u62df,this.\u5947\u7a74=l.\u5947\u7a74,this.\u52a0\u901f\u7b49\u7ea7=(0,f.Zq)(l.\u52a0\u901f\u503c),this.\u7f51\u7edc\u5ef6\u8fdf=l.\u7f51\u7edc\u5ef6\u8fdf,this.Buff\u548cDot\u6570\u636e=k(this.\u5947\u7a74),this.\u6280\u80fd\u57fa\u7840\u6570\u636e=(l=>{const i=i=>null===l||void 0===l?void 0:l.includes(i);return g.map((l=>{if("\u5f15\u7a8d"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0))return i("\u60ac\u67a2")?{...l,"\u6700\u5927\u5145\u80fd\u5c42\u6570":2}:l;if("\u98ce\u6d41\u4e91\u6563"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)){let s=l.\u6280\u80fdCD||0,n=l.\u6700\u5927\u5145\u80fd\u5c42\u6570||1;return i("\u51fa\u5cab")&&(s=18*b.DH-4*b.DH,n=2),{...l,"\u6280\u80fdCD":s,"\u6700\u5927\u5145\u80fd\u5c42\u6570":n}}if("\u5288\u98ce\u4ee4"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0))return i("\u89c1\u98d3")?{...l,"\u6700\u5927\u5145\u80fd\u5c42\u6570":3}:l;if("\u629f\u98ce\u4ee4"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)){let s=l.\u6280\u80fdCD||0;return i("\u6e05\u6fc0")&&(s-=10*b.DH),{...l,"\u6280\u80fdCD":s}}if("\u629f\u98ce\u4ee4\u65ad"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)){let s=l.\u6280\u80fdCD||0;return i("\u6e05\u6fc0")&&(s-=10*b.DH),{...l,"\u6280\u80fdCD":s}}return l}))})(this.\u5947\u7a74),this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868={"\u7ecf\u8109\u5faa\u884c":{...null===(i=this.Buff\u548cDot\u6570\u636e)||void 0===i?void 0:i["\u7ecf\u8109\u5faa\u884c"],"\u5f53\u524d\u5c42\u6570":1,"\u5237\u65b0\u65f6\u95f4":99999}},this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868={},this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f={"\u80fd\u91cf\u4fe1\u606f":{"\u4efb\u8109":null===l||void 0===l||null===(s=l.\u8d77\u624b\u80fd\u91cf)||void 0===s?void 0:s.\u4efb\u8109,"\u7763\u8109":null===l||void 0===l||null===(n=l.\u8d77\u624b\u80fd\u91cf)||void 0===n?void 0:n.\u7763\u8109}},this.\u8d77\u624b\u56de\u80fd\u5e27=l.\u8d77\u624b\u56de\u80fd\u5e27||8,this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217=[],this.\u521d\u59cb\u5316\u6280\u80fd\u5b9e\u4f8b\u7c7b(),this.\u91cd\u7f6e\u5faa\u73af\u6267\u884c\u7ed3\u679c()}"\u91cd\u7f6e\u5faa\u73af\u6267\u884c\u7ed3\u679c"(){this.\u5faa\u73af\u6267\u884c\u7ed3\u679c="\u6210\u529f",this.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f={"\u5f02\u5e38\u7d22\u5f15":0,"\u5f02\u5e38\u4fe1\u606f":""}}"\u521d\u59cb\u5316\u6280\u80fd\u5b9e\u4f8b\u7c7b"(){this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408={"\u65ad\u8109":new S(this),"\u622a\u9633":new F(this),"\u5f15\u7a8d":new T(this),"\u7834\u7a74":new B(this),"\u96fe\u5203\u98de\u5149":new P(this),"\u9aa4\u98ce\u4ee4":new Y(this),"\u5288\u98ce\u4ee4":new V(this),"\u9aa4\u98ce\u5288\u98ce":new R(this),"\u629f\u98ce\u4ee4":new J(this),"\u629f\u98ce\u4ee4\u65ad":new Q(this),"\u96ea\u91cd\u82b1\u6ee1":new ll(this),"\u98ce\u6d41\u4e91\u6563":new dl(this),"\u4e00\u9633\u6765\u590d":new ul(this),"\u6714\u98ce\u626c\u5c18\u4e00":new sl(this),"\u6714\u98ce\u626c\u5c18\u4e8c":new ol(this),"\u6362\u884c":new fl(this),"\u7ecf\u8109\u5faa\u884c":new cl(this),"\u89e6\u53d1\u6a59\u6b66":new rl(this)}}"\u6dfb\u52a0buff"(l){var i,s;let{"\u540d\u79f0":n,"\u5bf9\u8c61":o="\u76ee\u6807","\u4e8b\u4ef6\u65f6\u95f4":t=this.\u5f53\u524d\u65f6\u95f4,"\u65b0\u589e\u5c42\u6570":d=1,"\u8986\u76d6\u5c42\u6570":e=0,"\u53ea\u6dfb\u52a0\u65e5\u5fd7":u=!1}=l;const v="\u81ea\u8eab"===o?null===(i=this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868[n])||void 0===i?void 0:i.\u5f53\u524d\u5c42\u6570:null===(s=this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868[n])||void 0===s?void 0:s.\u5f53\u524d\u5c42\u6570,c={...this.Buff\u548cDot\u6570\u636e[n],"\u5f53\u524d\u5c42\u6570":e||Math.min((v||0)+d,this.Buff\u548cDot\u6570\u636e[n].\u6700\u5927\u5c42\u6570||1),"\u5237\u65b0\u65f6\u95f4":t};c.\u5f53\u524d\u5c42\u6570!==v&&1!==c.\u5f53\u524d\u5c42\u6570||"\u6807\u9e44"===n?this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`${n}\u5c42\u6570\u53d8\u4e3a\u3010${c.\u5f53\u524d\u5c42\u6570}\u3011`,"\u65e5\u5fd7\u7c7b\u578b":"\u81ea\u8eab"===o?"\u81ea\u8eabbuff\u53d8\u52a8":"\u76ee\u6807buff\u53d8\u52a8","\u65e5\u5fd7\u65f6\u95f4":t}):this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`${o}\u83b7\u5f97${n}`,"\u65e5\u5fd7\u7c7b\u578b":"\u81ea\u8eab"===o?"\u81ea\u8eabbuff\u53d8\u52a8":"\u76ee\u6807buff\u53d8\u52a8","\u65e5\u5fd7\u65f6\u95f4":t}),u||("\u81ea\u8eab"===o?this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868[n]={...c}:this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868[n]={...c})}"\u5378\u9664buff"(l){var i,s;let{"\u540d\u79f0":n,"buff\u5237\u65b0\u65f6\u95f4":o=0,"\u5bf9\u8c61":t="\u76ee\u6807","\u4e8b\u4ef6\u65f6\u95f4":d=this.\u5f53\u524d\u65f6\u95f4,"\u5378\u9664\u5c42\u6570":e=1,"\u53ea\u6dfb\u52a0\u65e5\u5fd7":u=!1}=l;const v=("\u81ea\u8eab"===t?null===(i=this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868[n])||void 0===i?void 0:i.\u5f53\u524d\u5c42\u6570:null===(s=this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868[n])||void 0===s?void 0:s.\u5f53\u524d\u5c42\u6570)||0;if(v&&v>=0||u)if(v-e>0){if(this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`${n}\u5c42\u6570\u53d8\u4e3a\u3010${v-e}\u3011`,"\u65e5\u5fd7\u7c7b\u578b":"\u81ea\u8eab"===t?"\u81ea\u8eabbuff\u53d8\u52a8":"\u76ee\u6807buff\u53d8\u52a8","\u65e5\u5fd7\u65f6\u95f4":d}),!u){const l={...this.Buff\u548cDot\u6570\u636e[n],"\u5f53\u524d\u5c42\u6570":v-e,"\u5237\u65b0\u65f6\u95f4":o||d};"\u81ea\u8eab"===t?this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868[n]={...l}:this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868[n]={...l}}}else this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`${t}\u5931\u53bb${n}`,"\u65e5\u5fd7\u7c7b\u578b":"\u81ea\u8eab"===t?"\u81ea\u8eabbuff\u53d8\u52a8":"\u76ee\u6807buff\u53d8\u52a8","\u65e5\u5fd7\u65f6\u95f4":d}),u||("\u81ea\u8eab"===t?delete this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868[n]:delete this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868[n])}"\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728"(l){var i;return null===this||void 0===this||null===(i=this.\u5947\u7a74)||void 0===i?void 0:i.includes(l)}"\u80fd\u91cf\u6821\u9a8c"(){return{"\u53ef\u4ee5\u91ca\u653e":!0}}"\u589e\u52a0\u65f6\u95f4"(l){l>0&&(this.\u8df3\u8fc7\u5168\u90e8GCD\u65f6\u95f4(l),this.\u5f53\u524d\u65f6\u95f4=this.\u5f53\u524d\u65f6\u95f4+(l>0?l:0),this.DOT\u7ed3\u7b97\u4e0e\u66f4\u65b0(),this.\u6e05\u7a7a\u5df2\u7ecf\u6d88\u5931\u7684buff())}"\u8df3\u8fc7\u5168\u90e8GCD\u65f6\u95f4"(l){const i={"\u516c\u5171":0,"\u81ea\u8eab":0};Object.keys(this.GCD\u7ec4).map((s=>{i[s]=Math.max((this.GCD\u7ec4[s]||0)-l,0)})),this.GCD\u7ec4={...i}}"\u6280\u80fd\u91ca\u653e\u524d\u68c0\u67e5GCD\u7edf\u4e00\u65b9\u6cd5"(l){let i=l.\u6280\u80fdGCD\u7ec4;if("\u81ea\u8eab"===l.\u6280\u80fdGCD\u7ec4&&(i=null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0),i){return this.GCD\u7ec4[i]||0}return 0}"\u5bf9\u6240\u6709\u6709CD\u6280\u80fd\u68c0\u67e5\u548c\u5145\u80fd"(){Object.keys(this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408).forEach((l=>{const i=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408[l];if(null!==i&&void 0!==i&&i.\u6280\u80fd\u8fd0\u884c\u6570\u636e){const l=null===i||void 0===i?void 0:i.\u6280\u80fd\u8fd0\u884c\u6570\u636e,s=null===l||void 0===l?void 0:l.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if(null!==s&&void 0!==s&&s.length){const l=null===s||void 0===s?void 0:s.filter((l=>l>this.\u5f53\u524d\u65f6\u95f4));null===i||void 0===i||i.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":l})}}}))}"\u6280\u80fd\u91ca\u653e\u524d\u68c0\u67e5\u8fd0\u884c\u6570\u636e"(l,i,s){let n=0;const o=this.\u5f53\u524d\u65f6\u95f4+s||0;if(null!==i&&void 0!==i&&i.\u6280\u80fd\u8fd0\u884c\u6570\u636e){var t;const s=null===i||void 0===i||null===(t=i.\u6280\u80fd\u8fd0\u884c\u6570\u636e)||void 0===t?void 0:t.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if((null===s||void 0===s?void 0:s.length)>=((null===l||void 0===l?void 0:l.\u6700\u5927\u5145\u80fd\u5c42\u6570)||1)){const l=null===s||void 0===s?void 0:s[0];l>o&&(n=l-o)}}return n}"\u6280\u80fdGCD\u548cCD\u5904\u7406"(l,i,s,n){var o,t;const d=i-this.\u5f53\u524d\u65f6\u95f4;d&&d>0&&this.\u589e\u52a0\u65f6\u95f4(d),l&&this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`\u3010${null===s||void 0===s?void 0:s.\u6280\u80fd\u540d\u79f0}\u3011\u7b49\u6280\u80fdCD\u3010${l}\u3011\u5e27`,"\u65e5\u5fd7\u7c7b\u578b":"\u7b49CD","\u65e5\u5fd7\u65f6\u95f4":i});const e=null===n||void 0===n||null===(o=n.\u6280\u80fd\u8fd0\u884c\u6570\u636e)||void 0===o?void 0:o.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9,u=null===e||void 0===e?void 0:e.filter((l=>l>i));null===n||void 0===n||null===(t=n.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e)||void 0===t||t.call(n,{"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":u})}"\u6280\u80fd\u91ca\u653e\u540e\u66f4\u65b0\u8fd0\u884c\u6570\u636e"(l,i){if(null!==i&&void 0!==i&&i.\u6280\u80fd\u8fd0\u884c\u6570\u636e){var s;const n=(null===i||void 0===i||null===(s=i.\u6280\u80fd\u8fd0\u884c\u6570\u636e)||void 0===s?void 0:s.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9)||[],o=((null===n||void 0===n?void 0:n[n.length-1])||this.\u5f53\u524d\u65f6\u95f4)+((null===l||void 0===l?void 0:l.\u6280\u80fdCD)||0),t=[...n,o];null===i||void 0===i||i.\u66f4\u65b0\u6280\u80fd\u8fd0\u884c\u6570\u636e({"\u5f85\u5145\u80fd\u65f6\u95f4\u70b9":t})}}"\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7"(l){const{"\u65e5\u5fd7\u65f6\u95f4":i=this.\u5f53\u524d\u65f6\u95f4,...s}=l;this.\u6218\u6597\u65e5\u5fd7=[...this.\u6218\u6597\u65e5\u5fd7||[],{"\u65e5\u5fd7\u65f6\u95f4":i,...s}]}"\u6280\u80fd\u9020\u6210\u4f24\u5bb3"(l){var i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.\u5f53\u524d\u65f6\u95f4,t=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;const e=null===ml||void 0===ml?void 0:ml.find((i=>i.\u6280\u80fd\u540d\u79f0===l)),u=(null===e||void 0===e?void 0:e.\u6280\u80fd\u589e\u76ca\u5217\u8868)||[],v=((null===u||void 0===u||null===(i=u.filter((l=>{const i=(s=l.\u589e\u76ca\u540d\u79f0,null===(n=this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===n?void 0:n[s]);var s,n;if(i){if(o){const l=((null===i||void 0===i?void 0:i.\u5237\u65b0\u65f6\u95f4)||0)+((null===i||void 0===i?void 0:i.\u6700\u5927\u6301\u7eed\u65f6\u95f4)||0);return o<=l&&!!i}return!(null===i||void 0===i||!i.\u5f53\u524d\u5c42\u6570)}return!1})))||void 0===i?void 0:i.map((l=>l.\u589e\u76ca\u540d\u79f0)))||[]).concat(n);t||this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":l,"\u65e5\u5fd7\u7c7b\u578b":"\u9020\u6210\u4f24\u5bb3","\u65e5\u5fd7\u65f6\u95f4":o,"buff\u5217\u8868":v||[],"\u5176\u4ed6\u6570\u636e":{"\u4f24\u5bb3\u6b21\u6570":s,"\u6280\u80fd\u7b49\u7ea7":d}})}"\u68c0\u67e5GCD"(l,i,s){let n=0;var o;null!==i&&void 0!==i&&i.\u68c0\u67e5GCD?n=null===i||void 0===i||null===(o=i.\u68c0\u67e5GCD)||void 0===o?void 0:o.call(i,s):n=this.\u6280\u80fd\u91ca\u653e\u524d\u68c0\u67e5GCD\u7edf\u4e00\u65b9\u6cd5(l);return n}"\u6280\u80fd\u91ca\u653e\u524d"(l,i,s){var n,o;let t=0,d=0;s>=0&&(null!==l&&void 0!==l&&l.\u6280\u80fdGCD\u7ec4&&(t=this.\u68c0\u67e5GCD(l,i,s)),null!==l&&void 0!==l&&l.\u6280\u80fdCD&&(d=this.\u6280\u80fd\u91ca\u653e\u524d\u68c0\u67e5\u8fd0\u884c\u6570\u636e(l,i,t)));const e=null===l||void 0===l?void 0:l.\u662f\u5426\u4e3a\u5012\u8bfb\u6761\u6280\u80fd,u="\u9aa4\u98ce\u5288\u98ce"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)&&!(null===(n=this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===n||null===(o=n["\u832b\u7f08"])||void 0===o||!o.\u5f53\u524d\u5c42\u6570),v=!this.\u5f53\u524d\u65f6\u95f4||"\u81ea\u8eab"===(null===l||void 0===l?void 0:l.\u6280\u80fdGCD\u7ec4)||e||u?0:this.\u7f51\u7edc\u5ef6\u8fdf,c=this.\u5f53\u524d\u65f6\u95f4+t+v;return{"\u6280\u80fd\u8ba1\u5212\u91ca\u653e\u65f6\u95f4":c,"\u6280\u80fd\u9884\u4f30\u91ca\u653e\u65f6\u95f4":c+d,"\u7b49\u5f85CD":d}}"\u589e\u52a0\u6280\u80fdGCD"(l){if(null!==l&&void 0!==l&&l.\u6280\u80fdGCD\u7ec4){let i=l.\u6280\u80fdGCD\u7ec4;"\u81ea\u8eab"===l.\u6280\u80fdGCD\u7ec4&&(i=null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0),i&&(this.GCD\u7ec4[i]=(this.GCD\u7ec4[i]||0)+(null===l||void 0===l?void 0:l.\u6280\u80fd\u91ca\u653e\u540e\u6dfb\u52a0GCD)-this.\u52a0\u901f\u7b49\u7ea7)}}"\u589e\u52a0\u6280\u80fdCD"(l,i){var s;null!==l&&void 0!==l&&l.\u6280\u80fdCD&&(null!==i&&void 0!==i&&i.\u6280\u80fd\u91ca\u653e\u540e\u66f4\u65b0\u8fd0\u884c\u6570\u636e?null===(s=i.\u6280\u80fd\u91ca\u653e\u540e\u66f4\u65b0\u8fd0\u884c\u6570\u636e)||void 0===s||s.call(i):this.\u6280\u80fd\u91ca\u653e\u540e\u66f4\u65b0\u8fd0\u884c\u6570\u636e(l,i))}"\u6280\u80fd\u6210\u529f\u5f00\u59cb\u91ca\u653e"(l,i,s){var n,o;(this.\u589e\u52a0\u6280\u80fdGCD(l),"\u996e\u7fbd\u7c07"===l.\u6280\u80fd\u540d\u79f0)?null!==(n=this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==n&&null!==(o=n["\u6a59\u6b66"])&&void 0!==o&&o.\u5f53\u524d\u5c42\u6570||s||this.\u589e\u52a0\u6280\u80fdCD(l,i):this.\u589e\u52a0\u6280\u80fdCD(l,i)}"\u6280\u80fd\u91ca\u653e\u540e"(l,i,s,n,o,t,d){var e;const u=(null===t||void 0===t||null===(e=t.\u83b7\u53d6\u6280\u80fd\u91ca\u653e\u8bb0\u5f55\u7ed3\u679c)||void 0===e?void 0:e.call(t))||{};this.\u6280\u80fd\u91ca\u653e\u8bb0\u5f55.push({"\u6280\u80fd\u540d\u79f0":null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0,"\u8ba1\u5212\u91ca\u653e\u65f6\u95f4":i,"\u5b9e\u9645\u91ca\u653e\u65f6\u95f4":n,"\u5f00\u59cb\u8bfb\u6761\u65f6\u95f4":s,"\u662f\u5426\u4e3a\u8bfb\u6761\u6280\u80fd":o,"\u6280\u80fd\u91ca\u653e\u8bb0\u5f55\u7ed3\u679c":{...u,"\u91ca\u653e\u65f6\u6807\u9e44\u5c42\u6570":d}})}"\u6e05\u7a7abuff\u8c03\u7528\u51fd\u6570"(l){const i="\u81ea\u8eab"===l?this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868:this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868;Object.keys(i).forEach((s=>{const n=i[s],o=((null===n||void 0===n?void 0:n.\u5237\u65b0\u65f6\u95f4)||0)+((null===n||void 0===n?void 0:n.\u6700\u5927\u6301\u7eed\u65f6\u95f4)||0),t=(null===n||void 0===n?void 0:n.\u81ea\u7136\u6d88\u5931\u5931\u53bb\u5c42\u6570)||(null===n||void 0===n?void 0:n.\u6700\u5927\u5c42\u6570);o<this.\u5f53\u524d\u65f6\u95f4&&this.\u5378\u9664buff({"\u540d\u79f0":s,"\u5bf9\u8c61":l,"\u4e8b\u4ef6\u65f6\u95f4":o,"\u5378\u9664\u5c42\u6570":t})}))}"\u6e05\u7a7a\u5df2\u7ecf\u6d88\u5931\u7684buff"(){this.\u6e05\u7a7abuff\u8c03\u7528\u51fd\u6570("\u76ee\u6807"),this.\u6e05\u7a7abuff\u8c03\u7528\u51fd\u6570("\u81ea\u8eab")}"DOT\u7ed3\u7b97\u4e0e\u66f4\u65b0"(){}"\u672c\u8f6e\u6a21\u62df\u5f00\u59cb\u524d"(){this.\u91cd\u7f6e\u5faa\u73af\u6267\u884c\u7ed3\u679c(),this.\u4e8b\u4ef6\u7ed3\u7b97()}"\u4e8b\u4ef6\u7ed3\u7b97"(){this.\u5f85\u751f\u6548\u4e8b\u4ef6\u7ed3\u7b97(),this.DOT\u7ed3\u7b97\u4e0e\u66f4\u65b0()}"\u672c\u8f6e\u6a21\u62df\u7ed3\u675f\u540e"(){this.\u6e05\u7a7a\u5df2\u7ecf\u6d88\u5931\u7684buff(),this.\u5bf9\u6240\u6709\u6709CD\u6280\u80fd\u68c0\u67e5\u548c\u5145\u80fd()}"\u6280\u80fd\u91ca\u653e\u6821\u9a8c"(l,i){var s;const n=this.\u80fd\u91cf\u6821\u9a8c(),o=l.\u91ca\u653e&&(null===(s=l.\u91ca\u653e)||void 0===s?void 0:s.call(l))||{"\u53ef\u4ee5\u91ca\u653e":!0},t={"\u53ef\u4ee5\u91ca\u653e":n.\u53ef\u4ee5\u91ca\u653e&&o.\u53ef\u4ee5\u91ca\u653e,"\u5f02\u5e38\u4fe1\u606f":n.\u5f02\u5e38\u4fe1\u606f||o.\u5f02\u5e38\u4fe1\u606f};var d;t.\u53ef\u4ee5\u91ca\u653e&&(null===(d=this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7)||void 0===d||d.call(this,{"\u65e5\u5fd7":null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0,"\u65e5\u5fd7\u7c7b\u578b":"\u91ca\u653e\u6280\u80fd"}));return t}"\u6280\u80fd\u91ca\u653e\u5f02\u5e38"(l,i,s){this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`\u5faa\u73af\u5728\u7b2c${s+1}\u4e2a\u6280\u80fd${null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0}\u5f02\u5e38\u7ec8\u6b62`,"\u65e5\u5fd7\u7c7b\u578b":"\u5faa\u73af\u5f02\u5e38"}),this.\u5faa\u73af\u6267\u884c\u7ed3\u679c="\u5f02\u5e38",null!==l&&void 0!==l&&l.\u5f02\u5e38\u4fe1\u606f&&(this.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f={"\u5f02\u5e38\u7d22\u5f15":s+1,"\u5f02\u5e38\u4fe1\u606f":null===l||void 0===l?void 0:l.\u5f02\u5e38\u4fe1\u606f})}"\u5f85\u751f\u6548\u4e8b\u4ef6\u7ed3\u7b97"(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.\u5f53\u524d\u65f6\u95f4;if(this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217.length){const i=()=>{var s;if((null===(s=this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217[0])||void 0===s?void 0:s.\u4e8b\u4ef6\u65f6\u95f4)<=l){var n,o,t,d,e,u,v;const l=this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217[0];if(this.DOT\u7ed3\u7b97\u4e0e\u66f4\u65b0(),this.\u589e\u52a0\u65f6\u95f4(l.\u4e8b\u4ef6\u65f6\u95f4-this.\u5f53\u524d\u65f6\u95f4),null===(n=this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7)||void 0===n||n.call(this,{"\u65e5\u5fd7":`\u4e8b\u4ef6\u3010${l.\u4e8b\u4ef6\u540d\u79f0}\u3011\u89e6\u53d1`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c","\u65e5\u5fd7\u65f6\u95f4":this.\u5f53\u524d\u65f6\u95f4}),null!==(o=l.\u4e8b\u4ef6\u540d\u79f0)&&void 0!==o&&o.includes("\u6280\u80fd\u8bfb\u6761")){var c,a;const i=null===l||void 0===l||null===(c=l.\u4e8b\u4ef6\u5907\u6ce8)||void 0===c?void 0:c.\u6280\u80fd\u540d\u79f0;var r,h;if(i&&null!==(a=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)&&void 0!==a&&a[i])null===(r=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===r||null===(h=r[i])||void 0===h||h.\u8bfb\u6761\u4f24\u5bb3()}else if(null!==(t=l.\u4e8b\u4ef6\u540d\u79f0)&&void 0!==t&&t.includes("\u5378\u9664buff")){var f,m,x,p;if(null!==l&&void 0!==l&&null!==(f=l.\u4e8b\u4ef6\u5907\u6ce8)&&void 0!==f&&f.buff\u540d\u79f0)this.\u5378\u9664buff({"\u540d\u79f0":null===l||void 0===l||null===(m=l.\u4e8b\u4ef6\u5907\u6ce8)||void 0===m?void 0:m.buff\u540d\u79f0,"\u5bf9\u8c61":null===l||void 0===l||null===(x=l.\u4e8b\u4ef6\u5907\u6ce8)||void 0===x?void 0:x.buff\u5bf9\u8c61,"\u5378\u9664\u5c42\u6570":null===l||void 0===l||null===(p=l.\u4e8b\u4ef6\u5907\u6ce8)||void 0===p?void 0:p.\u5378\u9664\u5c42\u6570})}else if(null!==(d=l.\u4e8b\u4ef6\u540d\u79f0)&&void 0!==d&&d.includes("\u7ecf\u8109\u5faa\u884c_\u79d2\u56de")){var b,j;null===(b=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===b||null===(j=b.\u7ecf\u8109\u5faa\u884c)||void 0===j||j.\u7ecf\u8109\u5faa\u884c\u6bcf\u79d2\u56de\u590d()}else if(null!==(e=l.\u4e8b\u4ef6\u540d\u79f0)&&void 0!==e&&e.includes("\u9aa4\u98ce\u9020\u6210\u4f24\u5bb3")){var g,D;null===(g=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===g||null===(D=g.\u9aa4\u98ce\u4ee4)||void 0===D||D.\u9aa4\u98ce\u9020\u6210\u4f24\u5bb3()}else if(null!==(u=l.\u4e8b\u4ef6\u540d\u79f0)&&void 0!==u&&u.includes("\u6a2a\u9a71\u98ce\u9761\u9020\u6210\u4f24\u5bb3")){var y,C;null===(y=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||void 0===y||null===(C=y.\u629f\u98ce\u4ee4)||void 0===C||C.\u6a2a\u9a71\u98ce\u9761\u9020\u6210\u4f24\u5bb3()}null===(v=this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217)||void 0===v||v.shift(),this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217.length&&i()}};i()}}"\u6dfb\u52a0\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217"(l){let i=[];var s;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?i=null!==(s=this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217)&&void 0!==s&&s.some((i=>{var s;return i.\u4e8b\u4ef6\u540d\u79f0===(null===l||void 0===l||null===(s=l[0])||void 0===s?void 0:s.\u4e8b\u4ef6\u540d\u79f0)}))?this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217.map((i=>{var s;return i.\u4e8b\u4ef6\u540d\u79f0===(null===l||void 0===l||null===(s=l[0])||void 0===s?void 0:s.\u4e8b\u4ef6\u540d\u79f0)?null===l||void 0===l?void 0:l[0]:i})):(this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217||[]).concat(l||[]):i=(this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217||[]).concat(l||[]);i.sort(((l,i)=>((null===l||void 0===l?void 0:l.\u4e8b\u4ef6\u65f6\u95f4)||0)-((null===i||void 0===i?void 0:i.\u4e8b\u4ef6\u65f6\u95f4)||0))),this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217=[...i]}"\u5220\u9664\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217"(l){const i=[...this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217||[]].filter((i=>i.\u4e8b\u4ef6\u540d\u79f0!==l));i.sort(((l,i)=>((null===l||void 0===l?void 0:l.\u4e8b\u4ef6\u65f6\u95f4)||0)-((null===i||void 0===i?void 0:i.\u4e8b\u4ef6\u65f6\u95f4)||0))),this.\u5f85\u751f\u6548\u4e8b\u4ef6\u961f\u5217=[...i]}"\u56de\u590d\u80fd\u91cf"(l){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u4efb\u8109";this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f[i]=Math.min(this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f[i]+l,100),this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408.\u7ecf\u8109\u5faa\u884c.\u7ecf\u8109\u5faa\u884c\u6dfb\u52a0\u6821\u9a8c(),this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`${i}\u503c\u589e\u52a0\u53d8\u4e3a${this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f[i]}`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"})}"\u6d88\u8017\u80fd\u91cf"(l){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u4efb\u8109";this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f[i]=Math.max(this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f[i]-l,0),this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408.\u7ecf\u8109\u5faa\u884c.\u7ecf\u8109\u5faa\u884c\u5378\u9664\u6821\u9a8c(),this.\u6dfb\u52a0\u6218\u6597\u65e5\u5fd7({"\u65e5\u5fd7":`${i}\u503c\u51cf\u5c11\u53d8\u4e3a${this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f[i]}`,"\u65e5\u5fd7\u7c7b\u578b":"\u6280\u80fd\u91ca\u653e\u7ed3\u679c"})}"\u795e\u5c01\u6821\u9a8c"(){if(this.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u795e\u5c01")){return this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109+this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u7763\u8109>=60}return!1}"\u795e\u5c01\u89e6\u53d1"(){null===this||void 0===this||this.\u56de\u590d\u80fd\u91cf(5,"\u4efb\u8109"),null===this||void 0===this||this.\u56de\u590d\u80fd\u91cf(5,"\u7763\u8109")}"\u6d88\u8017\u5f53\u524d\u4e00\u534a\u80fd\u91cf"(){this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109=.5*this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u4efb\u8109,this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u7763\u8109=.5*this.\u89d2\u8272\u72b6\u6001\u4fe1\u606f.\u80fd\u91cf\u4fe1\u606f.\u7763\u8109}"\u5224\u65ad\u9006\u8109"(){var l,i,s,n,o;this.\u6821\u9a8c\u5947\u7a74\u662f\u5426\u5b58\u5728("\u9006\u8109")&&(null!==(l=this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u7edd\u8109"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570||(null===(s=this.\u6dfb\u52a0buff)||void 0===s||s.call(this,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}),null===(n=this.\u6dfb\u52a0buff)||void 0===n||n.call(this,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"}),null===(o=this.\u6dfb\u52a0buff)||void 0===o||o.call(this,{"\u540d\u79f0":"\u7edd\u8109","\u5bf9\u8c61":"\u76ee\u6807"})))}"\u5224\u65ad\u626c\u5c18"(){var l,i;null!==this&&void 0!==this&&null!==(l=this.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==l&&null!==(i=l["\u626c\u5c18"])&&void 0!==i&&i.\u5f53\u524d\u5c42\u6570&&(null===this||void 0===this||this.\u5378\u9664buff({"\u540d\u79f0":"\u626c\u5c18","\u5bf9\u8c61":"\u81ea\u8eab","\u5378\u9664\u5c42\u6570":1}))}"\u6a21\u62df"(){for(let v=0;v<this.\u6d4b\u8bd5\u5faa\u73af.length;v++){var l;0===v&&this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408.\u7ecf\u8109\u5faa\u884c.\u521d\u59cb\u5316\u7ecf\u8109\u5faa\u884c(this.\u8d77\u624b\u56de\u80fd\u5e27),this.\u672c\u8f6e\u6a21\u62df\u5f00\u59cb\u524d();const c=null===this||void 0===this||null===(l=this.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===l?void 0:l.find((l=>(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)===this.\u6d4b\u8bd5\u5faa\u73af[v]));if(c){const l=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408[null===c||void 0===c?void 0:c.\u6280\u80fd\u540d\u79f0];if(l){var i,s,n,o;null===l||void 0===l||null===(i=l.\u91ca\u653e\u524d\u521d\u59cb\u5316)||void 0===i||i.call(l);const{"\u6280\u80fd\u8ba1\u5212\u91ca\u653e\u65f6\u95f4":a,"\u7b49\u5f85CD":r,"\u6280\u80fd\u9884\u4f30\u91ca\u653e\u65f6\u95f4":h}=this.\u6280\u80fd\u91ca\u653e\u524d(c,l,v),f=(null===l||void 0===l||null===(s=l.\u83b7\u53d6\u8bfb\u6761\u65f6\u95f4)||void 0===s?void 0:s.call(l,v))||0,m=!!f;var t;if(f)null===l||void 0===l||null===(t=l.\u8bfb\u6761)||void 0===t||t.call(l,h);this.\u5f85\u751f\u6548\u4e8b\u4ef6\u7ed3\u7b97(h),this.\u6280\u80fdGCD\u548cCD\u5904\u7406(r,h,c,l);const x=m?h:void 0,p=m?h+f:0;this.\u6280\u80fd\u6210\u529f\u5f00\u59cb\u91ca\u653e(c,l,m);const b=this.\u6280\u80fd\u91ca\u653e\u6821\u9a8c(l,c),j=v===this.\u6d4b\u8bd5\u5faa\u73af.length-1,g=this.\u5f53\u524d\u65f6\u95f4,D=(null===(n=this.\u5f53\u524d\u76ee\u6807buff\u5217\u8868)||void 0===n||null===(o=n["\u6807\u9e44"])||void 0===o?void 0:o.\u5f53\u524d\u5c42\u6570)||0;if(this.\u6e05\u7a7a\u5df2\u7ecf\u6d88\u5931\u7684buff(),null===b||void 0===b||!b.\u53ef\u4ee5\u91ca\u653e){this.\u6280\u80fd\u91ca\u653e\u5f02\u5e38(b,c,v);break}var d,e,u;null===(d=l.\u547d\u4e2d)||void 0===d||d.call(l,j),null===(e=l.\u9020\u6210\u4f24\u5bb3)||void 0===e||e.call(l,v),p&&p>this.\u5f53\u524d\u65f6\u95f4&&this.\u5f85\u751f\u6548\u4e8b\u4ef6\u7ed3\u7b97(p),null===(u=l.\u91ca\u653e\u540e)||void 0===u||u.call(l),this.\u6280\u80fd\u91ca\u653e\u540e(c,a,x,g,m,l,D)}}this.\u672c\u8f6e\u6a21\u62df\u7ed3\u675f\u540e()}}"\u65e5\u5fd7\u6392\u5e8f"(){const l=[...this.\u6218\u6597\u65e5\u5fd7||[]];l.sort(((l,i)=>((null===l||void 0===l?void 0:l.\u65e5\u5fd7\u65f6\u95f4)||0)-((null===i||void 0===i?void 0:i.\u65e5\u5fd7\u65f6\u95f4)||0))),this.\u6218\u6597\u65e5\u5fd7=[...l||[]]}"\u83b7\u53d6\u5f53\u524d\u5404\u6280\u80fd\u7684\u8fd0\u884c\u72b6\u6001"(){const l={};return(Object.keys(this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||[]).forEach((i=>{var s;l[i]=(null===(s=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408[i])||void 0===s?void 0:s.\u6280\u80fd\u8fd0\u884c\u6570\u636e)||{}})),l}"\u83b7\u53d6\u5404DOT\u7684\u8fd0\u884c\u72b6\u6001"(){const l={};return(Object.keys(this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408)||[]).forEach((i=>{var s,n;null!==(s=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408[i])&&void 0!==s&&s.DOT\u8fd0\u884c\u6570\u636e&&(l[i]=(null===(n=this.\u6280\u80fd\u7c7b\u5b9e\u4f8b\u96c6\u5408[i])||void 0===n?void 0:n.DOT\u8fd0\u884c\u6570\u636e)||{})})),l}},pl=l=>{const i=new xl(l);i.\u6a21\u62df(),i.\u65e5\u5fd7\u6392\u5e8f();const s=i.\u83b7\u53d6\u5f53\u524d\u5404\u6280\u80fd\u7684\u8fd0\u884c\u72b6\u6001(),n=i.\u83b7\u53d6\u5404DOT\u7684\u8fd0\u884c\u72b6\u6001();return{"\u6700\u7ec8\u65e5\u5fd7":i.\u6218\u6597\u65e5\u5fd7,"\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868":i.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868,"\u5f53\u524d\u76ee\u6807buff\u5217\u8868":i.\u5f53\u524d\u76ee\u6807buff\u5217\u8868,"\u89d2\u8272\u72b6\u6001\u4fe1\u606f":i.\u89d2\u8272\u72b6\u6001\u4fe1\u606f,"\u5f53\u524d\u65f6\u95f4":i.\u5f53\u524d\u65f6\u95f4,"\u5faa\u73af\u6267\u884c\u7ed3\u679c":i.\u5faa\u73af\u6267\u884c\u7ed3\u679c,"\u5faa\u73af\u5f02\u5e38\u4fe1\u606f":i.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f,"\u6280\u80fd\u91ca\u653e\u8bb0\u5f55":i.\u6280\u80fd\u91ca\u653e\u8bb0\u5f55,"\u5f53\u524d\u5404\u6280\u80fd\u8fd0\u884c\u72b6\u6001":s,"\u5f53\u524dDOT\u8fd0\u884c\u72b6\u6001":n,"\u5f53\u524dGCD\u7ec4":i.GCD\u7ec4,"\u6280\u80fd\u57fa\u7840\u6570\u636e":i.\u6280\u80fd\u57fa\u7840\u6570\u636e}};var bl=s(6910),jl=s(5341),gl=s(2105),Dl=s(8450),yl=s(7497);const Cl=[{"\u540d\u79f0":"\u6a21\u62df\u5668_\u4e00\u9633\u6765\u590d_1\u5ef6\u8fdf","\u5947\u7a74":["\u9633\u6c60","\u6d8c\u6cc9","\u5c01\u5e9c","\u53cd\u6734","\u795e\u5c01","\u60ac\u67a2","\u795e\u95e8","\u51fa\u5cab","\u7389\u6795","\u832b\u7f08","\u4e18\u589f","\u4e00\u9633\u6765\u590d"],"\u6280\u80fd\u5e8f\u5217":["\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u98ce\u6d41\u4e91\u6563","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u629f\u98ce\u4ee4\u65ad","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u98ce\u6d41\u4e91\u6563","\u5f15\u7a8d","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u98ce\u6d41\u4e91\u6563","\u622a\u9633","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u629f\u98ce\u4ee4\u65ad","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u98ce\u6d41\u4e91\u6563","\u622a\u9633","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u98ce\u6d41\u4e91\u6563","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u622a\u9633","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u629f\u98ce\u4ee4\u65ad","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u98ce\u6d41\u4e91\u6563","\u622a\u9633","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u98ce\u6d41\u4e91\u6563","\u5f15\u7a8d","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u622a\u9633","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d","\u9aa4\u98ce\u4ee4","\u5288\u98ce\u4ee4","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u629f\u98ce\u4ee4\u65ad","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d","\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u98ce\u6d41\u4e91\u6563","\u622a\u9633","\u5f15\u7a8d"]}];var Nl=s(6309);const Al=function(l){var i,s;const{cycle:n,"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u5faa\u73af\u4fdd\u5b58\u5f39\u7a97":o,"\u6e05\u7a7a\u5faa\u73af":e,"\u5feb\u901f\u5bfc\u5165\u5faa\u73af":v,"\u66f4\u65b0\u5947\u7a74\u5f39\u7a97\u5c55\u793a":c,"\u66f4\u65b0\u5947\u7a74\u4fe1\u606f":a,"\u8d77\u624b\u56de\u80fd\u5e27":r,"\u66f4\u65b0\u8d77\u624b\u56de\u80fd\u5e27":f,"\u52a0\u901f\u7b49\u7ea7":m,"\u66f4\u65b0\u52a0\u901f\u7b49\u7ea7":x,"\u8d77\u624b\u80fd\u91cf":p,"\u66f4\u65b0\u8d77\u624b\u80fd\u91cf":j,"\u7f51\u7edc\u5ef6\u8fdf":g,"\u66f4\u65b0\u7f51\u7edc\u5ef6\u8fdf":D,"\u6a21\u62df\u4fe1\u606f":y,"\u5927\u6a59\u6b66\u6a21\u62df":C}=l,N=(0,h.G)((l=>{var i;return null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.\u81ea\u5b9a\u4e49\u5faa\u73af\u5217\u8868})),A=function(l){const i="\u9ed8\u8ba4"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u9ed8\u8ba4")?Cl:N,s=null===i||void 0===i?void 0:i.find((i=>i.\u540d\u79f0===l)),n=((null===s||void 0===s?void 0:s.\u6280\u80fd\u5e8f\u5217)||[]).map((l=>{var i;return null===y||void 0===y||null===(i=y.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((i=>(null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0)===l))})).filter((l=>l));v(n),null!==s&&void 0!==s&&s.\u5947\u7a74&&a(null===s||void 0===s?void 0:s.\u5947\u7a74)};return(0,Nl.jsxs)("div",{className:"cycle-simulator-modal-header space-between",children:[(0,Nl.jsxs)("div",{className:"cycle-simulator-modal-title-wrapper",children:[(0,Nl.jsx)("h1",{className:"cycle-simulator-modal-title",children:"\u5faa\u73af\u6a21\u62df"}),(0,Nl.jsx)(bl.A,{content:(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("p",{children:"1\u3001\u70b9\u51fb\u4e0b\u65b9\u6280\u80fd\u6309\u94ae\u6dfb\u52a0\u81f3\u5faa\u73af\u5185"}),(0,Nl.jsx)("p",{children:"2\u3001\u53ef\u4ee5\u6574\u884c\u5220\u9664\u3001\u590d\u5236\u672c\u884c\u5230\u6700\u540e\u4e00\u884c"}),(0,Nl.jsx)("p",{children:"3\u3001\u53ef\u4ee5\u5728\u5355\u884c\u5185\u62d6\u52a8\u6539\u53d8\u6280\u80fd\u987a\u5e8f"}),(0,Nl.jsxs)("p",{children:["\u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8be6\u89c1\uff1a",(0,Nl.jsx)("a",{href:"https://www.jx3box.com/tool/75292",target:"_blank",rel:"noreferrer",children:"\u4f7f\u7528\u624b\u518c\u53caFAQ"})]})]}),children:(0,Nl.jsx)("span",{className:"cycle-simulator-help",children:"\u5982\u4f55\u4f7f\u7528"})})]}),(0,Nl.jsxs)("div",{className:"cycle-simulator-header-btns",children:[(0,Nl.jsx)(u.A,{title:"\u8d77\u624b\u4efb\u8109",placement:"left",children:(0,Nl.jsx)(jl.A,{size:"small",className:"cycle-simulator-header-select",value:null===p||void 0===p?void 0:p.\u4efb\u8109,style:{width:70},showSearch:!0,popupMatchSelectWidth:120,filterOption:(l,i)=>{var s,n;return(null===i||void 0===i||null===(s=i.value)||void 0===s||null===(n=s.toString())||void 0===n?void 0:n.includes(l))||!1},onChange:l=>j({...p,"\u4efb\u8109":l}),options:Array.from({length:101},((l,i)=>i)).map((l=>{const i=100-l;return{value:i,label:`${i}`}}))})}),(0,Nl.jsx)(u.A,{title:"\u8d77\u624b\u7763\u8109",placement:"left",children:(0,Nl.jsx)(jl.A,{size:"small",className:"cycle-simulator-header-select",value:null===p||void 0===p?void 0:p.\u7763\u8109,style:{width:70},showSearch:!0,popupMatchSelectWidth:120,filterOption:(l,i)=>{var s,n;return(null===i||void 0===i||null===(s=i.value)||void 0===s||null===(n=s.toString())||void 0===n?void 0:n.includes(l))||!1},onChange:l=>j({...p,"\u7763\u8109":l}),options:Array.from({length:101},((l,i)=>i)).map((l=>{const i=100-l;return{value:i,label:`${i}`}}))})}),(0,Nl.jsx)(u.A,{title:"\u8d77\u624b\u7b2c\u4e00\u6b21\u7ecf\u8109\u5faa\u884cBuff\u56de\u80fd\u5e27\u8282\u70b9",placement:"left",children:(0,Nl.jsx)(jl.A,{size:"small",className:"cycle-simulator-header-select",value:r,style:{width:70},onChange:f,options:Array.from({length:16},((l,i)=>i)).map((l=>({value:l,label:`${l}\u5e27`})))})}),(0,Nl.jsx)(jl.A,{size:"small",className:"cycle-simulator-header-select",value:m,onChange:x,options:Array.from({length:6},((l,i)=>i)).map((l=>({value:l,label:`${l}\u6bb5\u52a0\u901f`})))}),(0,Nl.jsx)(jl.A,{size:"small",className:"cycle-simulator-header-select",value:g,onChange:D,options:b.AU}),(0,Nl.jsx)(gl.A,{overlay:(0,Nl.jsxs)(Dl.A,{children:[null===(i=G(Cl,C))||void 0===i?void 0:i.map((l=>(0,Nl.jsx)(Dl.A.Item,{onClick:()=>A(null===l||void 0===l?void 0:l.\u540d\u79f0),children:null===l||void 0===l?void 0:l.\u540d\u79f0},null===l||void 0===l?void 0:l.\u540d\u79f0))),null!==(s=G(N,C))&&void 0!==s&&s.length?G(N,C).map(((l,i)=>(0,Nl.jsx)(Dl.A.Item,{onClick:()=>A(null===l||void 0===l?void 0:l.\u540d\u79f0,"\u81ea\u5b9a\u4e49"),children:null===l||void 0===l?void 0:l.\u540d\u79f0},i))):null,(0,Nl.jsx)(yl.A,{style:{margin:"4px 0"}}),(0,Nl.jsx)(Dl.A.Item,{onClick:()=>{navigator.clipboard.readText().then((l=>{if(l){const i=((null===l||void 0===l?void 0:l.split(","))||[]).map((l=>{var i;return null===y||void 0===y||null===(i=y.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((i=>(null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0)===l))})).filter((l=>l));i.length?(v(i),t.Ay.success("\u6570\u636e\u5df2\u5168\u90e8\u5bfc\u5165")):t.Ay.error("\u7c98\u8d34\u677f\u5185\u65e0\u53ef\u5bfc\u5165\u6570\u636e\uff0c\u8bf7\u68c0\u67e5\u6216\u91cd\u65b0\u590d\u5236")}else t.Ay.error("\u7c98\u8d34\u677f\u5185\u65e0\u53ef\u5bfc\u5165\u6570\u636e\uff0c\u8bf7\u68c0\u67e5\u6216\u91cd\u65b0\u590d\u5236")}))},children:"\u7c98\u8d34\u5bfc\u5165"},"ctrlv")]}),children:(0,Nl.jsx)(d.Ay,{size:"small",children:"\u5bfc\u5165\u5faa\u73af"})}),(0,Nl.jsx)(u.A,{title:"\u672c\u5947\u7a74\u8bbe\u7f6e\u53ea\u4f1a\u5728\u5faa\u73af\u6a21\u62df\u5668\u5185\u751f\u6548\uff0c\u4e0d\u5f71\u54cd\u5916\u90e8",children:(0,Nl.jsx)(d.Ay,{size:"small",onClick:()=>c(!0),children:"\u5947\u7a74\u8bbe\u7f6e"})}),(0,Nl.jsx)(d.Ay,{size:"small",onClick:()=>e(),danger:!0,children:"\u6e05\u7a7a\u5faa\u73af"}),(0,Nl.jsx)(u.A,{title:"\u81ea\u5b9a\u4e49\u5faa\u73af\u548c\u539f\u8ba1\u7b97\u5668\u5176\u4ed6\u5faa\u73af\u7684dps\u4f1a\u5fc3\u671f\u671b\u8ba1\u7b97\u65b9\u5f0f\u4e0d\u540c\u3002\u4f1a\u5bfc\u81f4\u6700\u7ec8\u6570\u503c\u504f\u5dee\u3002\u8bf7\u52ff\u8fdb\u884c\u8de8\u5faa\u73af\u6bd4\u8f83\u3002",children:(0,Nl.jsx)(d.Ay,{size:"small",type:"primary",onClick:()=>o(!0),disabled:(null===n||void 0===n?void 0:n.length)<1||"\u5f02\u5e38"===(null===y||void 0===y?void 0:y.\u5faa\u73af\u6267\u884c\u7ed3\u679c),children:"\u4fdd\u5b58\u4e3a\u81ea\u5b9a\u4e49\u5faa\u73af"})})]})]})};var Gl=s(8432);const kl=function(l){var i,s;const{"\u89d2\u8272\u72b6\u6001\u4fe1\u606f":n}=l;return(0,Nl.jsxs)("div",{className:"cycle-status-bar-content cycle-status-energy-content",children:[(0,Nl.jsx)("div",{className:"cycle-status-bar-title",children:"\u80fd\u91cf"}),(0,Nl.jsxs)("div",{className:"cycle-status-bar-enerty-wrap",children:[(0,Nl.jsxs)("div",{className:"cycle-status-bar-enerty-item",children:[(0,Nl.jsx)("span",{children:"\u4efb\u8109"}),(0,Nl.jsx)(Gl.A,{className:"cycle-status-bar-enerty",percent:Math.floor(null===n||void 0===n||null===(i=n.\u80fd\u91cf\u4fe1\u606f)||void 0===i?void 0:i.\u4efb\u8109),format:l=>`${l}`})]}),(0,Nl.jsxs)("div",{className:"cycle-status-bar-enerty-item",children:[(0,Nl.jsx)("span",{children:"\u7763\u8109"}),(0,Nl.jsx)(Gl.A,{className:"cycle-status-bar-enerty",percent:Math.floor(null===n||void 0===n||null===(s=n.\u80fd\u91cf\u4fe1\u606f)||void 0===s?void 0:s.\u7763\u8109),format:l=>`${l}`})]})]})]})};var wl=s(8838);const Hl=function(l){var i;const{title:s,"buff\u5217\u8868":o,"DOT\u5217\u8868":t={},"\u5947\u7a74\u4fe1\u606f":d,"\u5f53\u524d\u65f6\u95f4\u70b9":e}=l,v=Object.keys(o).map((l=>o[l])),c=(0,n.useMemo)((()=>{var l;const i=[...v||[]];return null!==d&&void 0!==d&&d.includes("\u7389\u6795")&&null!==o&&void 0!==o&&null!==(l=o["\u7ecf\u8109\u5faa\u884c"])&&void 0!==l&&l.\u5f53\u524d\u5c42\u6570&&i.push(null===y||void 0===y?void 0:y["\u7389\u6795"]),i}),[v,o,d]),a=null===(i=Object.keys(t).map((l=>{const i=null===y||void 0===y?void 0:y[l];return{...t[l],...i}})))||void 0===i?void 0:i.filter((l=>{var i;return null===l||void 0===l||null===(i=l.\u5f85\u751f\u6548\u6570\u636e)||void 0===i?void 0:i.length}));return(0,Nl.jsxs)("div",{className:"cycle-status-bar-content cycle-status-bar-buff-content",children:[(0,Nl.jsx)("div",{className:"cycle-status-bar-title",children:s}),(0,Nl.jsxs)(wl.A,{className:"cycle-status-bar-buff-list",size:[8,8],wrap:!0,children:[null!==c&&void 0!==c&&c.length?c.map((l=>{const i=(l.\u5237\u65b0\u65f6\u95f4||0)+(l.\u6700\u5927\u6301\u7eed\u65f6\u95f4||0)-e||0,s=(i/b.DH).toFixed(1),n=l.\u5f53\u524d\u5c42\u6570||0;return(0,Nl.jsxs)("div",{className:"cycle-status-bar-buff",children:[(0,Nl.jsxs)("div",{className:"cycle-status-bar-buff-item",children:[(0,Nl.jsx)(u.A,{title:(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)(Nl.Fragment,{children:`${l.\u540d\u79f0}${n>1?`${n}\u5c42`:""}`}),(0,Nl.jsx)("p",{children:l.\u5907\u6ce8})]}),children:(0,Nl.jsx)("img",{className:"cycle-status-bar-buff-img",src:l.\u56fe\u6807})}),n>1?(0,Nl.jsx)("span",{className:"cycle-status-bar-buff-count",children:l.\u5f53\u524d\u5c42\u6570}):null]}),(0,Nl.jsx)("p",{className:"cycle-status-bar-buff-second "+(i<2*b.DH?"cycle-status-bar-buff-second-limit":""),children:"\u7ecf\u8109\u5faa\u884c"!==l.\u540d\u79f0&&+s>0?s:null})]},l.\u540d\u79f0)})):null,null!==a&&void 0!==a&&a.length?a.map((l=>{var i;const s=(null===(i=l.\u5f85\u751f\u6548\u6570\u636e)||void 0===i?void 0:i[l.\u5f85\u751f\u6548\u6570\u636e.length-1])||{},n=((null===s||void 0===s?void 0:s.\u751f\u6548\u65f6\u95f4)||0)-e||0,o=(n/b.DH).toFixed(1),t=s.\u5f53\u524d\u5c42\u6570||0;return(0,Nl.jsxs)("div",{className:"cycle-status-bar-buff",children:[(0,Nl.jsxs)("div",{className:"cycle-status-bar-buff-item",children:[(0,Nl.jsx)(u.A,{title:(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("p",{children:`${l.\u540d\u79f0}${t>1?`${t}\u5c42`:""}`}),(0,Nl.jsx)("p",{children:l.\u5907\u6ce8})]}),children:(0,Nl.jsx)("img",{className:"cycle-status-bar-buff-img",src:l.\u56fe\u6807})}),t>1?(0,Nl.jsx)("span",{className:"cycle-status-bar-buff-count",children:t}):null]}),(0,Nl.jsx)("p",{className:"cycle-status-bar-buff-second "+(n<2*b.DH?"cycle-status-bar-buff-second-limit":""),children:o})]},l.\u540d\u79f0)})):null,null!==v&&void 0!==v&&v.length||null!==a&&void 0!==a&&a.length?null:(0,Nl.jsx)("p",{className:"cycle-buff-empty",children:"\u65e0"})]})]})};var $l=s(2034),Ml=s(9144),Sl=s(6940),Ol=s(2321),zl=s(1303);const Fl=l=>{var i;const{open:s,onCancel:n,logData:o}=l,t=[{title:"\u65e5\u5fd7",dataIndex:"\u65e5\u5fd7",filters:null===(i=[...g,{"\u6280\u80fd\u540d\u79f0":"\u8d2f\u7a7f"},{"\u6280\u80fd\u540d\u79f0":"\u6807\u9e44"},{"\u6280\u80fd\u540d\u79f0":"\u5f15\u7206"},{"\u6280\u80fd\u540d\u79f0":"\u6ca1\u77f3\u996e\u7fbd"}])||void 0===i?void 0:i.map((l=>({text:null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0,value:null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0}))),onFilter:(l,i)=>{var s,n;return(null===(s=i.\u65e5\u5fd7)||void 0===s?void 0:s.includes(l))||(null===i||void 0===i||null===(n=i.\u65e5\u5fd7\u7c7b\u578b)||void 0===n?void 0:n.includes(l))}},{title:"\u65e5\u5fd7\u7c7b\u578b",dataIndex:"\u65e5\u5fd7\u7c7b\u578b",filters:null===D||void 0===D?void 0:D.map((l=>({text:l,value:l}))),onFilter:(l,i)=>0===i.\u65e5\u5fd7\u7c7b\u578b.indexOf(l)},{title:"buff\u5217\u8868",dataIndex:"buff\u5217\u8868",render:(l,i)=>{var s;return"\u9020\u6210\u4f24\u5bb3"===i.\u65e5\u5fd7\u7c7b\u578b&&(null===(s=l||[])||void 0===s?void 0:s.join(","))||"-"}},{title:"\u65e5\u5fd7\u5e27",dataIndex:"\u65e5\u5fd7\u65f6\u95f4",render:l=>l},{title:"\u65e5\u5fd7\u79d2",dataIndex:"\u65e5\u5fd7\u79d2",render:(l,i)=>(null===i||void 0===i?void 0:i.\u65e5\u5fd7\u65f6\u95f4)/b.DH}];return(0,Nl.jsx)(e.A,{className:"cycle-simulator-modal",open:s,onCancel:n,title:(0,Nl.jsx)("div",{className:"cycle-simulator-modal-header",children:(0,Nl.jsx)("h1",{className:"cycle-simulator-modal-title",children:"\u6218\u6597\u65e5\u5fd7"})}),width:"80%",centered:!0,footer:!1,children:(0,Nl.jsx)(zl.A,{dataSource:o,columns:t,size:"small",pagination:{pageSize:100,showTotal:l=>l}})})};var El=s(7992);const Tl=l=>{const{open:i,onCancel:s,total:o,dpsList:t,logData:d}=l,{"\u5f15\u7a8d\u603b\u500d\u7387":e,"\u7edd\u8109\u603b\u500d\u7387":u,"\u5f15\u7a8d\u7edf\u8ba1\u6570\u7ec4":v,"\u7edd\u8109\u7edf\u8ba1\u6570\u7ec4":c}=(0,n.useMemo)((()=>{var l,i;const s=null===(l=d||[])||void 0===l?void 0:l.filter((l=>{var i,s;return(null===l||void 0===l||null===(i=l.\u65e5\u5fd7)||void 0===i?void 0:i.includes("\u5f15\u7a8d"))&&(null===l||void 0===l||null===(s=l.\u65e5\u5fd7\u7c7b\u578b)||void 0===s?void 0:s.includes("\u9020\u6210\u4f24\u5bb3"))})),n=null===(i=d||[])||void 0===i?void 0:i.filter((l=>{var i,s;return(null===l||void 0===l||null===(i=l.\u65e5\u5fd7)||void 0===i?void 0:i.includes("\u7edd\u8109"))&&(null===l||void 0===l||null===(s=l.\u65e5\u5fd7\u7c7b\u578b)||void 0===s?void 0:s.includes("\u9020\u6210\u4f24\u5bb3"))})),{"\u603b\u500d\u7387":o,"\u7edf\u8ba1\u6570\u7ec4":t}=Il(s),{"\u603b\u500d\u7387":e,"\u7edf\u8ba1\u6570\u7ec4":u}=Il(n);return{"\u5f15\u7a8d\u603b\u500d\u7387":o,"\u5f15\u7a8d\u7edf\u8ba1\u6570\u7ec4":t,"\u7edd\u8109\u603b\u500d\u7387":e,"\u7edd\u8109\u7edf\u8ba1\u6570\u7ec4":u}}),[d]);return(0,Nl.jsx)(El.A,{title:(0,Nl.jsxs)("div",{className:"cycle-simulator-modal-header space-between",children:[(0,Nl.jsx)("h1",{className:"cycle-simulator-modal-title",children:"\u6280\u80fd\u7edf\u8ba1"}),(0,Nl.jsx)(bl.A,{content:(0,Nl.jsxs)("div",{className:"ztg-cycle-simulator-skill-count-warp",children:[(0,Nl.jsxs)("div",{className:"ztg-cycle-simulator-skill-count-item",children:[(0,Nl.jsxs)("p",{children:["\u5f15\u7a8d\u500d\u7387\uff1a",e]}),(0,Nl.jsx)(yl.A,{style:{margin:"4px 0"}}),Object.keys(v).map((l=>(0,Nl.jsxs)("p",{children:["\u5f15\u7a8d\xb7",l,"\uff1a",v[l],"\u6b21"]},`\u5f15\u7a8d\u7edf\u8ba1${l}`)))]}),(0,Nl.jsxs)("div",{className:"ztg-cycle-simulator-skill-count-item",children:[(0,Nl.jsxs)("p",{children:["\u7edd\u8109\u500d\u7387\uff1a",u]}),(0,Nl.jsx)(yl.A,{style:{margin:"4px 0"}}),Object.keys(c).map((l=>(0,Nl.jsxs)("p",{children:["\u7edd\u8109\xb7",l,"\uff1a",c[l],"\u6b21"]},`\u7edd\u8109\u7edf\u8ba1${l}`)))]})]}),children:(0,Nl.jsx)("span",{className:"cycle-simulator-help",children:"\u6280\u80fd\u7ec6\u8282"})})]}),"\u8ba1\u7b97\u7ed3\u679c":{"\u603b\u4f24":o,"\u8ba1\u7b97\u7ed3\u679c\u6280\u80fd\u5217\u8868":t},visible:i,onClose:()=>s()})},Il=l=>{let i=0;const s=l.map((l=>{const s=(l=>{var i;return(null===l||void 0===l||null===(i=l.\u5176\u4ed6\u6570\u636e)||void 0===i?void 0:i.\u6280\u80fd\u7b49\u7ea7)||1})(l);return i+=s,s})).filter((l=>-1!==l)),n=s.reduce(((l,i)=>(l[i]?l[i]++:l[i]=1,l)),{});return{"\u603b\u500d\u7387":i,"\u7edf\u8ba1\u6570\u7ec4":n}};var Bl=s(2647);const ql=["\u52b2\u98ce\u7c07\u8ffd","\u996e\u7fbd\u7c07\u8ffd"];const Pl=function(l){const{open:i,onCancel:s,"\u65e5\u5fd7":o,"\u603b\u6218\u6597\u7528\u65f6":t}=l,[d,u]=(0,n.useState)(),v=(0,n.useRef)(),[c,a]=(0,n.useState)({});(0,n.useEffect)((()=>{i&&setTimeout((()=>{r()}),20),i?v.current=!1:(v.current=!1,a({}),u(void 0))}),[i,o,t]);const r=()=>{if(v.current)return;v.current=!0;const l=d||new Bl.t1({container:"cycle-buff-count-chart",autoFit:!0,renderer:"canvas",padding:[24,120,100,120]});l.tooltip({crosshairs:!1}),d||u(l);const i=h();l.source(i,{time:{tickCount:10}}),l.axis("time",{label:{style:{textAlign:"center",fontSize:16}}});const s=h();l.data(s),l.coordinate().transpose(),l.interval().position("type*range").color("type").label("range",{offset:10}),l.render(),setTimeout((()=>{v.current=!1}),10)},h=()=>{const{"Buff\u679a\u4e3e":l,"\u8986\u76d6\u7387":i}=((l,i)=>{const s={},n={};for(let p=0;p<l.length;p++){var o,t,d,e,u,v;if(("\u76ee\u6807buff\u53d8\u52a8"===(null===(o=l[p])||void 0===o?void 0:o.\u65e5\u5fd7\u7c7b\u578b)||"\u81ea\u8eabbuff\u53d8\u52a8"===(null===(t=l[p])||void 0===t?void 0:t.\u65e5\u5fd7\u7c7b\u578b))&&(null!==(d=l[p])&&void 0!==d&&null!==(e=d.\u65e5\u5fd7)&&void 0!==e&&e.includes("\u83b7\u5f97")||null!==(u=l[p])&&void 0!==u&&null!==(v=u.\u65e5\u5fd7)&&void 0!==v&&v.includes("\u5931\u53bb"))){var c,a,r,h;const i=null===(c=l[p])||void 0===c?void 0:c.\u65e5\u5fd7,n=null!==i&&void 0!==i&&i.includes("\u83b7\u5f97")?"get":"lose",o="get"===n?null===i||void 0===i||null===(a=i.split("\u83b7\u5f97"))||void 0===a?void 0:a[1]:null===i||void 0===i||null===(r=i.split("\u5931\u53bb"))||void 0===r?void 0:r[1],t=(null===(h=l[p])||void 0===h?void 0:h.\u65e5\u5fd7\u65f6\u95f4)||0;var f;if(o&&(null===ql||void 0===ql||!ql.includes(o)))if("get"===n)null!==s&&void 0!==s&&s[o]?(null===(f=s[o][s[o].length-1])||void 0===f?void 0:f.length)>1&&s[o].push([t]):s[o]=[[t]];else if("lose"===n){var m,x;null!==s&&void 0!==s&&s[o]&&null!==s&&void 0!==s&&null!==(m=s[o])&&void 0!==m&&m[(null===s||void 0===s||null===(x=s[o])||void 0===x?void 0:x.length)-1]&&s[o][s[o].length-1].push(t)}}}return Object.keys(s).forEach((l=>{var o;if(null!==(o=s[l])&&void 0!==o&&o.length){var t,d,e,u,v,c;null!==(t=s[l])&&void 0!==t&&t[(null===(d=s[l])||void 0===d?void 0:d.length)-1]&&(null===(e=s[l])||void 0===e||null===(u=e[(null===(v=s[l])||void 0===v?void 0:v.length)-1])||void 0===u?void 0:u.length)<2&&s[l][s[l].length-1].push(i);let o=0;for(let i=0;i<s[l].length;i++)s[l][i]&&2===s[l][i].length&&(o=o+s[l][i][1]-s[l][i][0]);n[l]=null===(c=o/i*100)||void 0===c?void 0:c.toFixed(3)}})),{"Buff\u679a\u4e3e":s,"\u8986\u76d6\u7387":n}})(o,t);return a(i),(l=>{const i=[];return Object.keys(l).forEach((s=>{var n;null!==(n=l[s])&&void 0!==n&&n.length&&l[s].forEach((l=>{i.push({type:s,range:l})}))})),i})(l)};return(0,Nl.jsxs)(e.A,{open:i,onCancel:s,title:(0,Nl.jsx)("div",{className:"cycle-simulator-modal-header",children:(0,Nl.jsx)("h1",{className:"cycle-simulator-modal-title",children:"Buff\u8986\u76d6\u60c5\u51b5\uff08\u65f6\u95f4\u5355\u4f4d\uff1a\u5e27\uff09"})}),width:"80%",centered:!0,footer:!1,children:[(0,Nl.jsx)(wl.A,{className:"cycle-buff-count-text",size:[16,16],wrap:!0,children:Object.keys(c).map((l=>(0,Nl.jsxs)("div",{className:"cycle-buff-count-text-wrap",children:[(0,Nl.jsxs)("span",{className:"cycle-buff-count-text-label",children:[l,"\uff1a"]}),(0,Nl.jsxs)("span",{className:"cycle-buff-count-text-value",children:[c[l],"%"]})]},l)))}),i?(0,Nl.jsx)("div",{id:"cycle-buff-count-chart",className:"cycle-buff-count-chart"}):null]})};const _l=function(l){var i,s;const{"\u6a21\u62df\u4fe1\u606f":o,"\u65e5\u5fd7\u4fe1\u606f":t,"\u6a21\u62dfDPS\u7ed3\u679c":d}=l,[e,v]=(0,n.useState)(!1),[c,a]=(0,n.useState)(!1),[r,h]=(0,n.useState)(!1);return(0,Nl.jsxs)("div",{className:"cycle-bar-dps-res "+("\u5f02\u5e38"===(null===o||void 0===o?void 0:o.\u5faa\u73af\u6267\u884c\u7ed3\u679c)?"cycle-bar-dps-res-error":""),children:["\u5f02\u5e38"===(null===o||void 0===o?void 0:o.\u5faa\u73af\u6267\u884c\u7ed3\u679c)?(0,Nl.jsxs)("div",{className:"cycle-dps-res-error",children:[(0,Nl.jsx)("h1",{className:"cycle-dps-res-error-title",children:"\u5faa\u73af\u5f02\u5e38"}),(0,Nl.jsx)($l.A,{type:"error",showIcon:!0,message:`\u5f02\u5e38\u4fe1\u606f\uff1a${null===o||void 0===o||null===(i=o.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f)||void 0===i||null===(s=i.\u5f02\u5e38\u4fe1\u606f)||void 0===s?void 0:s.\u4fe1\u606f}`})]}):null!==d&&void 0!==d&&d.\u79d2\u4f24?(0,Nl.jsx)("div",{className:"cycle-dps-res-success",children:(0,Nl.jsxs)("div",{className:"cycle-dps-res-success-content",children:[(0,Nl.jsx)("h1",{className:"cycle-dps-res-num",children:null===d||void 0===d?void 0:d.\u79d2\u4f24}),(0,Nl.jsxs)("div",{className:"cycle-dps-res-success-text-content",children:[(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("span",{className:"cycle-dps-res-success-text",children:"\u6218\u6597\u7528\u65f6"}),(0,Nl.jsxs)("span",{className:"cycle-dps-res-success-text cycle-dps-res-success-highlight",children:[null===d||void 0===d?void 0:d.\u79d2\u4f24\u8ba1\u7b97\u65f6\u95f4,"\u79d2"]})]}),(0,Nl.jsxs)("div",{className:"cycle-dps-res-icons",children:[(0,Nl.jsx)(u.A,{title:"Buff\u5206\u6790",placement:"left",children:(0,Nl.jsx)(Ml.A,{className:"cycle-dps-res-icon",onClick:()=>v(!0)})}),(0,Nl.jsx)(u.A,{title:"\u6218\u6597\u65e5\u5fd7",placement:"left",children:(0,Nl.jsx)(Sl.A,{className:"cycle-dps-res-icon",onClick:()=>a(!0)})}),(0,Nl.jsx)(u.A,{title:"\u6280\u80fd\u7edf\u8ba1",placement:"left",children:(0,Nl.jsx)(Ol.A,{className:"cycle-dps-res-icon",onClick:()=>h(!0)})})]})]})]})}):null,(0,Nl.jsx)(Fl,{open:c,onCancel:()=>a(!1),logData:t}),(0,Nl.jsx)(Tl,{open:r,onCancel:()=>h(!1),dpsList:null===d||void 0===d?void 0:d.\u8ba1\u7b97\u7ed3\u679c\u6280\u80fd\u5217\u8868,total:null===d||void 0===d?void 0:d.\u603b\u4f24,logData:t}),e&&(0,Nl.jsx)(Pl,{open:e,onCancel:()=>v(!1),"\u65e5\u5fd7":t,"\u603b\u6218\u6597\u7528\u65f6":null===o||void 0===o?void 0:o.\u5f53\u524d\u65f6\u95f4})]})};const Ul=function(l){const{"\u6a21\u62df\u4fe1\u606f":i,"\u65e5\u5fd7\u4fe1\u606f":s,"\u6a21\u62dfDPS\u7ed3\u679c":n,"\u5947\u7a74\u4fe1\u606f":o}=l;return(0,Nl.jsxs)("div",{className:"cycle-status-bar",children:[(0,Nl.jsx)(kl,{"\u89d2\u8272\u72b6\u6001\u4fe1\u606f":null===i||void 0===i?void 0:i.\u89d2\u8272\u72b6\u6001\u4fe1\u606f}),(0,Nl.jsx)(Hl,{title:"\u81ea\u8eabBuff","buff\u5217\u8868":null===i||void 0===i?void 0:i.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868,"\u5f53\u524d\u65f6\u95f4\u70b9":null===i||void 0===i?void 0:i.\u5f53\u524d\u65f6\u95f4,"\u5947\u7a74\u4fe1\u606f":o||[]}),(0,Nl.jsx)(Hl,{title:"\u76ee\u6807Buff","buff\u5217\u8868":null===i||void 0===i?void 0:i.\u5f53\u524d\u76ee\u6807buff\u5217\u8868,"DOT\u5217\u8868":null===i||void 0===i?void 0:i.\u5f53\u524dDOT\u8fd0\u884c\u72b6\u6001,"\u5f53\u524d\u65f6\u95f4\u70b9":null===i||void 0===i?void 0:i.\u5f53\u524d\u65f6\u95f4}),(0,Nl.jsx)(_l,{"\u6a21\u62df\u4fe1\u606f":i,"\u65e5\u5fd7\u4fe1\u606f":s,"\u6a21\u62dfDPS\u7ed3\u679c":n})]})};var Yl=s(499),Ll=s(4816),Vl=s(4729),Wl=s.n(Vl);const Rl=function(l){let{data:i,...s}=l;const n=null===y||void 0===y?void 0:y[i];return n?(0,Nl.jsx)("img",{src:n.\u56fe\u6807,...s}):null};const Zl=function(l){var i,s,o,t;const{"\u6280\u80fd":d,"\u5220\u9664\u5faa\u73af\u6280\u80fd":e,"\u6a21\u62df\u4fe1\u606f":v,"buff\u8986\u76d6\u6570\u636e":c,"buff\u8986\u76d6\u7d22\u5f15":a,"\u66f4\u65b0buff\u8986\u76d6\u6570\u636e":r,"\u70b9\u51fb\u4e0b\u62c9\u83dc\u5355":h}=l,f=(null!==d&&void 0!==d&&d.\u5f00\u59cb\u8bfb\u6761\u65f6\u95f4?d.\u5f00\u59cb\u8bfb\u6761\u65f6\u95f4:d.\u5b9e\u9645\u91ca\u653e\u65f6\u95f4)||0,m=null!==d&&void 0!==d&&d.\u5f00\u59cb\u8bfb\u6761\u65f6\u95f4?Math.round(((d.\u5b9e\u9645\u91ca\u653e\u65f6\u95f4||0)-(d.\u5f00\u59cb\u8bfb\u6761\u65f6\u95f4||0))/b.DH*100)/100:0,x=(null===d||void 0===d?void 0:d.index)||0,p=Math.round((f||0)/b.DH*100)/100,j=(f||0)-(d.\u8ba1\u5212\u91ca\u653e\u65f6\u95f4||0),g=Math.round(j/b.DH*100)/100,D=((null===v||void 0===v||null===(i=v.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f)||void 0===i?void 0:i.\u5f02\u5e38\u7d22\u5f15)||0)+-1,y="\u5f02\u5e38"===(null===v||void 0===v?void 0:v.\u5faa\u73af\u6267\u884c\u7ed3\u679c)&&((null===d||void 0===d?void 0:d.index)||0)>=D,C="\u5f02\u5e38"===(null===v||void 0===v?void 0:v.\u5faa\u73af\u6267\u884c\u7ed3\u679c)&&((null===d||void 0===d?void 0:d.index)||0)===D,N=(null===d||void 0===d?void 0:d.\u6280\u80fd\u91ca\u653e\u8bb0\u5f55\u7ed3\u679c)||{},A=(0,n.useMemo)((()=>((null===d||void 0===d?void 0:d.\u5b9e\u9645\u91ca\u653e\u65f6\u95f4)||0)<=(null===c||void 0===c?void 0:c[1])&&((null===d||void 0===d?void 0:d.\u5b9e\u9645\u91ca\u653e\u65f6\u95f4)||0)>=(null===c||void 0===c?void 0:c[0])&&x>=a),[c,a,x,d]),G=Wl()("cycle-simulator-setting-skill",y?"cycle-simulator-setting-skill-error":"",A?"cycle-simulator-setting-skill-highlight":""),k=(0,n.useMemo)((()=>d.\u56fe\u6807),[d,N]),w=[{key:"\u524d\u90e8\u63d2\u5165",label:(0,Nl.jsxs)("span",{children:["\u5728",(0,Nl.jsx)("span",{className:"cycle-simulator-menu-tip-before",children:"\u524d\u90e8"}),"\u6dfb\u52a0\u6280\u80fd"]})},{key:"\u540e\u90e8\u63d2\u5165",label:(0,Nl.jsxs)("span",{children:["\u5728",(0,Nl.jsx)("span",{className:"cycle-simulator-menu-tip-after",children:"\u540e\u90e8"}),"\u6dfb\u52a0\u6280\u80fd"]})}];return(0,Nl.jsx)(Yl.A,{count:g,offset:[-52,8],className:"cycle-simulator-setting-skill-drag",children:(0,Nl.jsx)(gl.A,{menu:{items:w,onClick:h},trigger:["contextMenu"],children:(0,Nl.jsxs)("div",{className:G,onMouseEnter:()=>{var l,i,s;null!==N&&void 0!==N&&null!==(l=N.\u9020\u6210buff\u6570\u636e)&&void 0!==l&&l.buff\u540d\u79f0&&r([null===N||void 0===N||null===(i=N.\u9020\u6210buff\u6570\u636e)||void 0===i?void 0:i.buff\u5f00\u59cb\u65f6\u95f4,null===N||void 0===N||null===(s=N.\u9020\u6210buff\u6570\u636e)||void 0===s?void 0:s.buff\u7ed3\u675f\u65f6\u95f4],x)},onMouseLeave:()=>{r([],0)},children:[(0,Nl.jsx)(u.A,{title:(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("p",{children:null===d||void 0===d?void 0:d.\u6280\u80fd\u540d\u79f0}),p?(0,Nl.jsxs)("p",{children:["\u91ca\u653e\u65f6\u95f4\uff1a",p,"\u79d2"]}):null,N.\u5b9e\u9645\u4f24\u5bb3\u6280\u80fd?(0,Nl.jsxs)("p",{children:["\u4f24\u5bb3\u540d\u79f0\uff1a",N.\u5b9e\u9645\u4f24\u5bb3\u6280\u80fd]}):null,g?(0,Nl.jsxs)("p",{children:["\u91ca\u653e\u7b49\u5f85CD\uff1a",g,"\u79d2"]}):null,m?(0,Nl.jsxs)("p",{children:["\u8bfb\u6761\uff1a",m,"\u79d2"]}):null,null!==N&&void 0!==N&&null!==(s=N.\u91cd\u8981buff\u5217\u8868)&&void 0!==s&&s.length?(0,Nl.jsx)(wl.A,{className:"cycle-simulator-setting-buff",size:[8,8],wrap:!0,children:null===N||void 0===N?void 0:N.\u91cd\u8981buff\u5217\u8868.map((l=>(0,Nl.jsx)(Rl,{data:l,className:"cycle-simulator-setting-buff-item"},l)))}):null,y?C?(0,Nl.jsxs)("p",{children:["\u5f02\u5e38\uff1a",null===v||void 0===v||null===(o=v.\u5faa\u73af\u5f02\u5e38\u4fe1\u606f)||void 0===o||null===(t=o.\u5f02\u5e38\u4fe1\u606f)||void 0===t?void 0:t.\u4fe1\u606f]}):(0,Nl.jsx)("p",{children:"\u524d\u7f6e\u6280\u80fd\u5f02\u5e38"}):null]}),children:(0,Nl.jsx)("img",{className:"ztg-cycle-simulator-setting-skill-img",src:k})}),(0,Nl.jsx)(Ll.A,{className:"cycle-simulator-setting-skill-close",onClick:()=>e((null===d||void 0===d?void 0:d.index)||0)})]})})})};var Jl=s(2559),Kl=s(6257),Ql=s(3412);const Xl=l=>{const{"\u6280\u80fd":i,"\u6a21\u62df\u4fe1\u606f":s,onClick:o,className:t,...d}=l,e=li(s,i),v=ii(s,i),c=(0,n.useMemo)((()=>{var l,n,o,t,d,u;let v={};var c;if("\u6714\u98ce\u626c\u5c18\u4e8c"!==(null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0)||null!==s&&void 0!==s&&null!==(l=s.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==l&&null!==(n=l["\u6714\u98ce\u626c\u5c18"])&&void 0!==n&&n.\u5f53\u524d\u5c42\u6570)if("\u9aa4\u98ce\u5288\u98ce"!==(null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0)||null!==s&&void 0!==s&&null!==(o=s.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)&&void 0!==o&&null!==(t=o["\u832b\u7f08"])&&void 0!==t&&t.\u5f53\u524d\u5c42\u6570){if("\u70b9\u6389\u6a59\u6b66"===(null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0)&&(null===s||void 0===s||null===(d=s.\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868)||void 0===d||null===(u=d["\u6a59\u6b66"])||void 0===u||!u.\u5f53\u524d\u5c42\u6570)){var a;v={"\u662f\u5426\u7981\u7528":!0,"\u5f02\u5e38\u63cf\u8ff0":null===w||void 0===w||null===(a=w.BUFF\u9519\u8bef)||void 0===a?void 0:a.\u4fe1\u606f}}}else{var r;v={"\u662f\u5426\u7981\u7528":!0,"\u5f02\u5e38\u63cf\u8ff0":null===w||void 0===w||null===(r=w.BUFF\u9519\u8bef)||void 0===r?void 0:r.\u4fe1\u606f}}else v={"\u662f\u5426\u7981\u7528":!0,"\u5f02\u5e38\u63cf\u8ff0":null===w||void 0===w||null===(c=w.BUFF\u9519\u8bef)||void 0===c?void 0:c.\u4fe1\u606f};return e>0&&null!==i&&void 0!==i&&i.\u6700\u5927\u5145\u80fd\u5c42\u6570&&(null===i||void 0===i?void 0:i.\u6700\u5927\u5145\u80fd\u5c42\u6570)>1?{...v,"\u89d2\u6807\u6570\u5b57":e,"\u5f02\u5e38\u63cf\u8ff0":`\u5f53\u524d\u6280\u80fd\u5904\u4e8e\u5145\u80fd\u4e2d\uff0c\u5269\u4f59${e}\u79d2`}:e>0?{...v,"\u89d2\u6807\u6570\u5b57":e,"\u5f02\u5e38\u63cf\u8ff0":`\u5f53\u524d\u6280\u80fd\u5904\u4e8e\u51b7\u5374\u4e2d\uff0c\u5269\u4f59${e}\u79d2`}:{...v}}),[e,i,s]),a=Wl()(t,null!==c&&void 0!==c&&c.\u662f\u5426\u7981\u7528?"cycle-simulator-setting-btn-error":""),r=(0,n.useMemo)((()=>i),[i,s]);return(0,Nl.jsxs)("div",{onClick:()=>{null!==c&&void 0!==c&&c.\u662f\u5426\u7981\u7528||o()},className:a,...d,children:[(0,Nl.jsx)(u.A,{title:(null===c||void 0===c?void 0:c.\u5f02\u5e38\u63cf\u8ff0)||(null===i||void 0===i?void 0:i.\u8bf4\u660e)||"",children:(0,Nl.jsxs)(Yl.A,{count:null===c||void 0===c?void 0:c.\u89d2\u6807\u6570\u5b57,className:"cycle-add-btn-wrap",offset:[0,0],children:[(0,Nl.jsx)("img",{className:"cycle-add-btn",src:null===r||void 0===r?void 0:r.\u56fe\u6807}),null!==i&&void 0!==i&&i.\u6700\u5927\u5145\u80fd\u5c42\u6570&&1!==(null===i||void 0===i?void 0:i.\u6700\u5927\u5145\u80fd\u5c42\u6570)?(0,Nl.jsx)("span",{className:"cycle-add-btn-count",children:v}):null]})}),(0,Nl.jsx)("p",{className:"cycle-add-btn-text",children:(null===r||void 0===r?void 0:r.\u6280\u80fd\u539f\u59cb\u540d\u79f0)||(null===r||void 0===r?void 0:r.\u6280\u80fd\u540d\u79f0)})]})},li=(l,i)=>{var s;const n=null===l||void 0===l||null===(s=l.\u5f53\u524d\u5404\u6280\u80fd\u8fd0\u884c\u72b6\u6001)||void 0===s?void 0:s[null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0],o=null===n||void 0===n?void 0:n.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9;if(null!==o&&void 0!==o&&o.length){const s=si(i,l.\u5f53\u524dGCD\u7ec4),n=((null===l||void 0===l?void 0:l.\u5f53\u524d\u65f6\u95f4)||0)+(s||0),t=null===o||void 0===o?void 0:o[0];if(t>n){const l=t-n;return Math.round(l/b.DH*100)/100}return 0}return 0},ii=(l,i)=>{var s,n;const o=null===l||void 0===l||null===(s=l.\u5f53\u524d\u5404\u6280\u80fd\u8fd0\u884c\u72b6\u6001)||void 0===s?void 0:s[null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0];return((null===i||void 0===i?void 0:i.\u6700\u5927\u5145\u80fd\u5c42\u6570)||1)-((null===o||void 0===o||null===(n=o.\u5f85\u5145\u80fd\u65f6\u95f4\u70b9)||void 0===n?void 0:n.length)||0)},si=(l,i)=>{let s=l.\u6280\u80fdGCD\u7ec4;if("\u81ea\u8eab"===l.\u6280\u80fdGCD\u7ec4&&(s=null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0),s){return i[s]}return 0},ni=[{"\u540d\u79f0":"\u53cc\u65ad\u622a\u5f15","\u6280\u80fd\u5e8f\u5217":["\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u622a\u9633","\u5f15\u7a8d"],color:"cyan"},{"\u540d\u79f0":"\u65ad\u622a\u65ad\u5f15","\u6280\u80fd\u5e8f\u5217":["\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d"],color:"green"},{"\u540d\u79f0":"\u65ad\u622a\u5f15","\u6280\u80fd\u5e8f\u5217":["\u65ad\u8109","\u622a\u9633","\u5f15\u7a8d"],color:"blue"},{"\u540d\u79f0":"\u7834\u9633\u622a\u5f15","\u6280\u80fd\u5e8f\u5217":["\u7834\u7a74","\u4e00\u9633\u6765\u590d","\u622a\u9633","\u5f15\u7a8d"],color:"magenta"},{"\u540d\u79f0":"\u98ce\u5288\u53cc\u65ad","\u6280\u80fd\u5e8f\u5217":["\u9aa4\u98ce\u4ee4","\u9aa4\u98ce\u5288\u98ce","\u65ad\u8109","\u622a\u9633","\u65ad\u8109","\u5f15\u7a8d"],color:"volcano"},{"\u540d\u79f0":"\u98ce\u5288","\u6280\u80fd\u5e8f\u5217":["\u9aa4\u98ce\u4ee4","\u9aa4\u98ce\u5288\u98ce"],color:"gold"}];const oi=function(l){var i,s,n,o;const{"\u65b0\u589e\u5faa\u73af\u6280\u80fd":t,"\u6279\u91cf\u65b0\u589e\u5faa\u73af":d,"\u5904\u7406\u5faa\u73af\u7ed3\u679c\u5bf9\u8c61":e,"\u6a21\u62df\u4fe1\u606f":u,"\u5927\u6a59\u6b66\u6a21\u62df":v,"\u5947\u7a74\u4fe1\u606f":c}=l;return(0,Nl.jsxs)("div",{className:"cycle-simulator-setting-btns",children:[(0,Nl.jsxs)("div",{className:"cycle-simulator-setting-item",children:[(0,Nl.jsx)("span",{className:"ztg-cycle-btn-type",children:"\u4e00\u9633\u6307"}),(0,Nl.jsx)(wl.A,{className:"cycle-simulator-setting-skills",size:[8,16],wrap:!0,children:null===u||void 0===u||null===(i=u.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.filter((l=>!(null!==l&&void 0!==l&&l.\u521b\u5efa\u5faa\u73af\u4e0d\u53ef\u9009)&&"\u4e00\u9633\u6307"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u7c7b\u578b))).map((l=>(0,Nl.jsx)(Xl,{onClick:()=>t(l),className:"ztg-cycle-simulator-setting-btn","\u5b8c\u6574\u5faa\u73af":(null===e||void 0===e?void 0:e.\u5b8c\u6574\u5faa\u73af)||[],"\u6280\u80fd":l,"\u6a21\u62df\u4fe1\u606f":u},null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)))})]}),(0,Nl.jsxs)("div",{className:"cycle-simulator-setting-item",children:[(0,Nl.jsx)("span",{className:"ztg-cycle-btn-type",children:"\u8058\u98ce\u4ee4"}),(0,Nl.jsx)(wl.A,{className:"cycle-simulator-setting-skills",size:[8,16],wrap:!0,children:null===u||void 0===u||null===(s=u.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===s?void 0:s.filter((l=>!(null!==l&&void 0!==l&&l.\u521b\u5efa\u5faa\u73af\u4e0d\u53ef\u9009)&&"\u8058\u98ce\u4ee4"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u7c7b\u578b))).map((l=>(0,Nl.jsx)(Xl,{onClick:()=>t(l),className:"ztg-cycle-simulator-setting-btn","\u5b8c\u6574\u5faa\u73af":(null===e||void 0===e?void 0:e.\u5b8c\u6574\u5faa\u73af)||[],"\u6280\u80fd":l,"\u6a21\u62df\u4fe1\u606f":u},null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)))})]}),(0,Nl.jsxs)("div",{className:"cycle-simulator-setting-item",children:[(0,Nl.jsx)("span",{className:"ztg-cycle-btn-type",children:"\u7a7a\u8499\u6247"}),(0,Nl.jsx)(wl.A,{className:"cycle-simulator-setting-skills",size:[8,16],wrap:!0,children:null===u||void 0===u||null===(n=u.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===n?void 0:n.filter((l=>!(null!==l&&void 0!==l&&l.\u521b\u5efa\u5faa\u73af\u4e0d\u53ef\u9009)&&"\u7a7a\u8499\u6247"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u7c7b\u578b))).map((l=>(0,Nl.jsx)(Xl,{onClick:()=>t(l),className:"ztg-cycle-simulator-setting-btn","\u5b8c\u6574\u5faa\u73af":(null===e||void 0===e?void 0:e.\u5b8c\u6574\u5faa\u73af)||[],"\u6280\u80fd":l,"\u6a21\u62df\u4fe1\u606f":u},null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)))})]}),(0,Nl.jsxs)("div",{className:"cycle-simulator-setting-item",children:[(0,Nl.jsx)("span",{className:"ztg-cycle-btn-type",children:"\u5176\u4ed6"}),(0,Nl.jsx)(wl.A,{className:"cycle-simulator-setting-skills",size:[8,16],wrap:!0,children:null===u||void 0===u||null===(o=u.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===o?void 0:o.filter((l=>{if(!v&&"\u5927\u6a59\u6b66\u6a21\u62df"===(null===l||void 0===l?void 0:l.\u663e\u793a\u7c7b\u578b))return!1;if("\u5947\u7a74\u6280\u80fd"===(null===l||void 0===l?void 0:l.\u663e\u793a\u7c7b\u578b)){const i=(null===l||void 0===l?void 0:l.\u4f9d\u8d56\u5947\u7a74\u540d)||(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0);return null===c||void 0===c?void 0:c.includes(i)}return!(null!==l&&void 0!==l&&l.\u521b\u5efa\u5faa\u73af\u4e0d\u53ef\u9009)&&"\u5176\u4ed6"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u7c7b\u578b)})).map((l=>(0,Nl.jsx)(Xl,{onClick:()=>t(l),className:"ztg-cycle-simulator-setting-btn","\u5b8c\u6574\u5faa\u73af":(null===e||void 0===e?void 0:e.\u5b8c\u6574\u5faa\u73af)||[],"\u6280\u80fd":l,"\u6a21\u62df\u4fe1\u606f":u},null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)))})]}),(0,Nl.jsxs)("div",{className:"cycle-simulator-setting-item cycle-simulator-setting-fast-item",children:[(0,Nl.jsx)("span",{className:"ztg-cycle-btn-type",children:"\u5feb\u6377\u6dfb\u52a0"}),(0,Nl.jsx)(Jl.A,{className:"cycle-simulator-setting-quick",gutter:[16,8],children:ni.map((l=>(0,Nl.jsx)(Kl.A,{span:8,children:(0,Nl.jsx)(Ql.A,{color:(null===l||void 0===l?void 0:l.color)||"blue",onClick:()=>(l=>{const i=null===l||void 0===l?void 0:l.\u6280\u80fd\u5e8f\u5217.map((l=>{var i;return(null===u||void 0===u||null===(i=u.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===i?void 0:i.find((i=>i.\u6280\u80fd\u540d\u79f0===l)))||{}})).filter((l=>l));null!==i&&void 0!==i&&i.length&&d(i)})(l),className:"cycle-simulator-setting-quick-item",children:null===l||void 0===l?void 0:l.\u540d\u79f0})},null===l||void 0===l?void 0:l.\u540d\u79f0)))})]})]})};var ti=s(3676),di=s(2705),ei=s(2015),ui=s(1203);const{"\u8ba1\u7b97\u5faa\u73af":vi}=(0,x.A)();const ci=function(l){const{modal:i}=o.A.useApp(),{"\u81ea\u5b9a\u4e49\u5faa\u73af\u4fdd\u5b58\u5f39\u7a97":s,"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u5faa\u73af\u4fdd\u5b58\u5f39\u7a97":t,"\u4fdd\u5b58\u81ea\u5b9a\u4e49\u5faa\u73af":d}=l,[u,v]=(0,n.useState)(),[c,a]=(0,n.useState)(),[r,f]=(0,n.useState)(),[m,x]=(0,n.useState)([0,1,2]),[j,g]=(0,n.useState)([0,1,2]),D=(0,h.G)((l=>{var i;return null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.\u81ea\u5b9a\u4e49\u5faa\u73af\u5217\u8868})),y=(0,h.j)(),C=(0,n.useMemo)((()=>(vi||[]).concat(D)),[D,vi]);(0,n.useEffect)((()=>{s?null!==D&&void 0!==D&&D.length?v("\u8986\u76d6"):v("\u65b0\u589e"):(v(void 0),a(void 0),f(void 0))}),[s,D]);const N=l=>{y((0,p.wv)(D.filter((i=>i.\u540d\u79f0!==l))))};return(0,Nl.jsxs)(e.A,{centered:!0,title:"\u4fdd\u5b58\u81ea\u5b9a\u4e49\u5faa\u73af",okButtonProps:{disabled:!("\u8986\u76d6"===u?r:c)||!(null!==j&&void 0!==j&&j.length)||!(null!==m&&void 0!==m&&m.length)},open:s,onCancel:()=>t(!1),onOk:()=>{d("\u8986\u76d6"===u?r:c,m,j)},width:630,destroyOnClose:!0,className:"cycle-custom-save-modal",children:[(0,Nl.jsxs)(ti.A,{className:"cycle-custom-save-modal-content",type:"card",activeKey:u,onChange:v,children:[(0,Nl.jsx)(ti.A.TabPane,{tab:"\u8986\u76d6",children:(0,Nl.jsx)(jl.A,{value:r,onChange:f,optionLabelProp:"label",placeholder:"\u8bf7\u9009\u62e9\u4f60\u8981\u8986\u76d6\u7684\u5faa\u73af",children:D.map((l=>(0,Nl.jsx)(jl.A.Option,{value:l.\u540d\u79f0,label:l.\u540d\u79f0,children:(0,Nl.jsxs)("div",{className:"cycle-custom-save-label",children:[(0,Nl.jsx)("span",{children:l.\u540d\u79f0}),(0,Nl.jsx)("span",{onClick:s=>((l,s)=>{l.stopPropagation(),l.preventDefault(),i.confirm({title:`\u786e\u5b9a\u8981\u5220\u9664\u5faa\u73af\u3010${s}\u3011\u5417?`,content:"\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",okText:"\u6211\u8981\u5220\u9664",onOk:async()=>{N(s)}})})(s,l.\u540d\u79f0),className:"cycle-custom-save-delete",children:"\u5220\u9664"})]})},l.\u540d\u79f0)))})},"\u8986\u76d6"),(0,Nl.jsx)(ti.A.TabPane,{tab:"\u65b0\u589e",children:(0,Nl.jsx)(di.A,{children:(0,Nl.jsx)(di.A.Item,{rules:[{validator:(l,i,s)=>{i&&null!==C&&void 0!==C&&C.some((l=>(null===l||void 0===l?void 0:l.\u540d\u79f0)===i))&&s("\u5df2\u5b58\u5728\u76f8\u540c\u7684\u5faa\u73af\u540d\uff0c\u8bf7\u66f4\u6362"),s()}}],children:(0,Nl.jsx)(ei.A,{value:c,placeholder:"\u8bf7\u8f93\u5165\u81ea\u5b9a\u4e49\u5faa\u73af\u540d\u79f0",onChange:l=>{var i;return a(null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value)}})})})},"\u65b0\u589e")]}),(0,Nl.jsxs)("div",{className:"cycle-custom-save-checkbox",children:[(0,Nl.jsx)("p",{children:"\u52a0\u901f"}),(0,Nl.jsx)(ui.A.Group,{value:m,onChange:l=>x(l),children:Array.from({length:6},((l,i)=>i)).map((l=>(0,Nl.jsxs)(ui.A,{value:l,children:[l,"\u6bb5"]},l)))}),(0,Nl.jsx)("p",{children:"\u5ef6\u8fdf"}),(0,Nl.jsx)(ui.A.Group,{value:j,onChange:l=>g(l),children:b.AU.map((l=>(0,Nl.jsx)(ui.A,{value:l.value,children:l.label},l.value)))})]}),(0,Nl.jsx)($l.A,{message:"\u9009\u9879\u8d8a\u5c11\u4fdd\u5b58\u8d8a\u5feb\u3002\u6ca1\u9009\u62e9\u7684\u9009\u9879\u5728\u5916\u90e8\u8ba1\u7b97dps\u65f6\u4e0d\u4f1a\u8fdb\u884c\u8ba1\u7b97\u3002"})]})};var ai=s(7515);const{"\u5947\u7a74\u6570\u636e":ri=[]}=(0,x.A)(),hi=l=>{const i=(0,h.G)((l=>{var i;return null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.\u5f53\u524d\u5947\u7a74\u4fe1\u606f})),{"\u5947\u7a74\u4fe1\u606f":s,"\u66f4\u65b0\u5947\u7a74\u4fe1\u606f":o,"\u5947\u7a74\u5f39\u7a97\u5c55\u793a":t,"\u66f4\u65b0\u5947\u7a74\u5f39\u7a97\u5c55\u793a":d}=l,[e]=di.A.useForm(),v=()=>{setTimeout((()=>{null===e||void 0===e||e.validateFields().then((l=>{const i=Object.keys(l).map((i=>l[i]));o(i)}))}),0)};return(0,n.useEffect)((()=>{const l={};s.map(((s,n)=>{l[n]=s||i[n]})),null===e||void 0===e||e.setFieldsValue({...l})}),[s]),(0,Nl.jsx)(ai.A,{title:"\u5947\u7a74\u8bbe\u7f6e",open:t,onClose:()=>d(!1),placement:"bottom",height:140,mask:!1,className:"qixue-simulator-set-drawer qixue-shxj",children:(0,Nl.jsx)(di.A,{form:e,className:"qixue-simulator-set-drawer-wrap",children:ri.map(((l,i)=>(0,Nl.jsx)(di.A.Item,{className:"qixue-simulator-set-item",name:i,children:(0,Nl.jsx)(jl.A,{className:"qixue-simulator-set-item-select",onChange:v,dropdownMatchSelectWidth:!1,optionLabelProp:"label",showArrow:!1,popupClassName:"qixue-simulator-set-item-select-popup",children:null===l||void 0===l?void 0:l.\u5947\u7a74\u5217\u8868.map((l=>(0,Nl.jsxs)(jl.A.Option,{value:null===l||void 0===l?void 0:l.\u5947\u7a74\u540d\u79f0,className:"qixue-simulator-set-item-select-option",label:(0,Nl.jsxs)("div",{className:"qixue-simulator-label",children:[(0,Nl.jsx)("img",{className:"qixue-simulator-label-img",src:null===l||void 0===l?void 0:l.\u5947\u7a74\u56fe\u7247}),(0,Nl.jsx)("span",{className:"qixue-simulator-label-text",children:null===l||void 0===l?void 0:l.\u5947\u7a74\u540d\u79f0})]}),children:[(0,Nl.jsx)("div",{className:"qixue-simulator-set-item-select-img-wrap",children:(0,Nl.jsx)("img",{className:"qixue-simulator-set-item-select-img",src:null===l||void 0===l?void 0:l.\u5947\u7a74\u56fe\u7247})}),(0,Nl.jsx)(u.A,{title:(null===l||void 0===l?void 0:l.\u5947\u7a74\u63cf\u8ff0)||"",placement:"right",children:(0,Nl.jsx)("span",{className:"qixue-simulator-set-item-select-text",children:null===l||void 0===l?void 0:l.\u5947\u7a74\u540d\u79f0})})]},null===l||void 0===l?void 0:l.\u5947\u7a74\u540d\u79f0)))})},i+1)))})})};const fi=function(l){const{"\u5411\u5faa\u73af\u5185\u63d2\u5165\u6280\u80fd":i,"\u5904\u7406\u5faa\u73af\u7ed3\u679c\u5bf9\u8c61":s,"\u6a21\u62df\u4fe1\u606f":n,"\u5927\u6a59\u6b66\u6a21\u62df":o,"\u5947\u7a74\u4fe1\u606f":t,"\u6dfb\u52a0\u8bbe\u7f6e":d,"\u6dfb\u52a0\u6280\u80fd\u5f39\u7a97\u663e\u793a":e,"\u5173\u95ed\u5f39\u7a97":u}=l;return(0,Nl.jsx)(ai.A,{title:"\u63d2\u5165\u6280\u80fd",placement:"bottom",open:e,onClose:u,height:180,children:(0,Nl.jsx)(oi,{"\u65b0\u589e\u5faa\u73af\u6280\u80fd":l=>{i([l],null===d||void 0===d?void 0:d.\u4f4d\u7f6e,null===d||void 0===d?void 0:d.\u7d22\u5f15)},"\u6279\u91cf\u65b0\u589e\u5faa\u73af":l=>{i(l,null===d||void 0===d?void 0:d.\u4f4d\u7f6e,null===d||void 0===d?void 0:d.\u7d22\u5f15)},"\u5904\u7406\u5faa\u73af\u7ed3\u679c\u5bf9\u8c61":s,"\u6a21\u62df\u4fe1\u606f":n,"\u5927\u6a59\u6b66\u6a21\u62df":o,"\u5947\u7a74\u4fe1\u606f":t})})},{"\u7f13\u5b58\u6620\u5c04":mi}=(0,x.A)(),xi={0:0,1:206,2:9230,3:19280,4:30151,5:42047};function pi(l){var i,s,x;const{modal:j}=o.A.useApp(),{"\u6253\u5f00\u5faa\u73af\u6a21\u62df\u5668":D,disabled:y}=l,[N,A]=(0,n.useState)([]),[G,k]=(0,n.useState)({"\u79d2\u4f24":0,"\u603b\u4f24":0,"\u79d2\u4f24\u8ba1\u7b97\u65f6\u95f4":0,"\u8ba1\u7b97\u7ed3\u679c\u6280\u80fd\u5217\u8868":[]}),[w,H]=(0,n.useState)({"\u89d2\u8272\u72b6\u6001\u4fe1\u606f":{"\u80fd\u91cf\u4fe1\u606f":{"\u4efb\u8109":100,"\u7763\u8109":100}},"\u5f53\u524d\u65f6\u95f4":0,"\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868":{},"\u5f53\u524d\u76ee\u6807buff\u5217\u8868":{},"\u5faa\u73af\u6267\u884c\u7ed3\u679c":"\u6210\u529f","\u5faa\u73af\u5f02\u5e38\u4fe1\u606f":{},"\u6280\u80fd\u57fa\u7840\u6570\u636e":[...g],"\u6280\u80fd\u91ca\u653e\u8bb0\u5f55":[],"\u5f53\u524d\u5404\u6280\u80fd\u8fd0\u884c\u72b6\u6001":{},"\u5f53\u524dDOT\u8fd0\u884c\u72b6\u6001":{},"\u5f53\u524dGCD\u7ec4":{}}),[$,M]=(0,n.useState)(!1),[S,O]=(0,n.useState)([]),[z,F]=(0,n.useState)(!1),E=(null===(i=(0,h.G)((l=>{var i,s;return null===l||void 0===l||null===(i=l.data)||void 0===i||null===(s=i.\u88c5\u5907\u4fe1\u606f)||void 0===s?void 0:s.\u88c5\u5907\u57fa\u7840\u5c5e\u6027})))||void 0===i?void 0:i.\u52a0\u901f\u7b49\u7ea7)||0,T=(0,h.G)((l=>{var i;return null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.\u7f51\u7edc\u5ef6\u8fdf}))||0,I=!(null===(s=(0,h.G)((l=>{var i,s;return null===l||void 0===l||null===(i=l.data)||void 0===i||null===(s=i.\u88c5\u5907\u4fe1\u606f)||void 0===s?void 0:s.\u88c5\u5907\u589e\u76ca})))||void 0===s||!s.\u5927\u6a59\u6b66\u7279\u6548)||!1,[B,q]=(0,n.useState)(0),[P,_]=(0,n.useState)(0),[U,Y]=(0,n.useState)(0),[L,V]=(0,n.useState)({"\u4efb\u8109":100,"\u7763\u8109":100}),W=(0,h.G)((l=>{var i;return null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.\u81ea\u5b9a\u4e49\u5faa\u73af\u5217\u8868})),R=(0,n.useMemo)((()=>xi[B]||0),[B]),Z=!0,J=(0,h.G)((l=>{var i;return null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.\u5f53\u524d\u5947\u7a74\u4fe1\u606f})),[K,Q]=(0,n.useState)([]),[X,ll]=(0,n.useState)(!1),[il,sl]=(0,n.useState)([]),[nl,ol]=(0,n.useState)(0),[tl,dl]=(0,n.useState)(!1),[el,ul]=(0,n.useState)({"\u4f4d\u7f6e":"","\u7d22\u5f15":0}),vl=(0,h.j)();(0,n.useEffect)((()=>{$?(Q(J),q((0,f.Zq)(E)),_(8),Y(T),V({"\u4efb\u8109":100,"\u7763\u8109":100})):(A([]),M(!1),O([]),k({"\u79d2\u4f24":0,"\u603b\u4f24":0,"\u79d2\u4f24\u8ba1\u7b97\u65f6\u95f4":0,"\u8ba1\u7b97\u7ed3\u679c\u6280\u80fd\u5217\u8868":[]}))}),[$,J,E]),(0,n.useEffect)((()=>{$&&cl({})}),[$,S,Z,U,L,R,P,K]);const cl=l=>{const{"\u4f20\u5165\u52a0\u901f":i=R,"\u4f20\u5165\u5ef6\u8fdf":s=U,"\u66f4\u65b0\u5c55\u793a":n=!0,"\u5947\u7a74":o}=l,t=pl({"\u6d4b\u8bd5\u5faa\u73af":S.map((l=>null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0))||[],"\u52a0\u901f\u503c":void 0!==i?i:R,"\u7f51\u7edc\u5ef6\u8fdf":void 0!==s?s:U,"\u5947\u7a74":o||K,"\u5927\u6a59\u6b66\u6a21\u62df":I,"\u8d77\u624b\u56de\u80fd\u5e27":P,"\u8d77\u624b\u80fd\u91cf":L}),{"\u6700\u7ec8\u65e5\u5fd7":d,"\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868":e,"\u5f53\u524d\u76ee\u6807buff\u5217\u8868":u,"\u89d2\u8272\u72b6\u6001\u4fe1\u606f":v,...c}=t;return n&&(A(d),al(d,null===c||void 0===c?void 0:c.\u5f53\u524d\u65f6\u95f4),H({"\u5f53\u524d\u81ea\u8eabbuff\u5217\u8868":e,"\u5f53\u524d\u76ee\u6807buff\u5217\u8868":u,"\u89d2\u8272\u72b6\u6001\u4fe1\u606f":v,...c})),{"\u6700\u7ec8\u65e5\u5fd7":d,...c}},al=(l,i)=>{const s=C(l),{"\u79d2\u4f24":n,"\u8ba1\u7b97\u7ed3\u679c\u6280\u80fd\u5217\u8868":o,"\u79d2\u4f24\u8ba1\u7b97\u65f6\u95f4":t,"\u603b\u4f24":d}=vl((0,m.r)({"\u66f4\u65b0\u5faa\u73af\u6280\u80fd\u5217\u8868":s,"\u66f4\u65b0\u8ba1\u7b97\u65f6\u95f4":i/b.DH,"\u66f4\u65b0\u5947\u7a74\u6570\u636e":K}));k({"\u79d2\u4f24":i>0?n:0,"\u603b\u4f24":i>0?d:0,"\u79d2\u4f24\u8ba1\u7b97\u65f6\u95f4":t,"\u8ba1\u7b97\u7ed3\u679c\u6280\u80fd\u5217\u8868":o})},rl=(0,n.useMemo)((()=>{const l=[],i=null===S||void 0===S?void 0:S.find((l=>"\u6362\u884c"===(null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0)));return S.map(((s,n)=>{var o;const t={...s,...null===w||void 0===w||null===(o=w.\u6280\u80fd\u91ca\u653e\u8bb0\u5f55)||void 0===o?void 0:o[n]};if(0===n)l[null===l||void 0===l?void 0:l.length]=[{...t,index:n||0}];else{l[(null===l||void 0===l?void 0:l.length)-1]=[...l[(null===l||void 0===l?void 0:l.length)-1]||[],{...t,index:n||0}];(i?"\u6362\u884c"===(null===t||void 0===t?void 0:t.\u6280\u80fd\u540d\u79f0):"\u9aa4\u98ce\u4ee4"===(null===t||void 0===t?void 0:t.\u6280\u80fd\u540d\u79f0))&&(l[null===l||void 0===l?void 0:l.length]=[])}return t})),{"\u663e\u793a\u5faa\u73af":l,"\u5b8c\u6574\u5faa\u73af":S}}),[S,w]),hl=l=>{const i=[...S||[]];i.splice(l,1),O(i)};(0,n.useEffect)((()=>{var l;const i={};(W||[]).forEach((l=>{i[l.\u540d\u79f0]={...l}})),null===(l=localStorage)||void 0===l||l.setItem(mi.\u81ea\u5b9a\u4e49\u5faa\u73af,JSON.stringify(i))}),[W,K]);return(0,Nl.jsxs)(Nl.Fragment,{children:[(0,Nl.jsx)(d.Ay,{danger:!0,size:"small",disabled:y,onClick:()=>{M(!0),D&&D()},children:"\u5faa\u73af\u6a21\u62df"}),(0,Nl.jsxs)(e.A,{className:"cycle-simulator-modal simulator-shxj",maskClosable:!1,width:"100%",title:(0,Nl.jsx)(Al,{cycle:S,"\u5927\u6a59\u6b66\u6a21\u62df":I,"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u5faa\u73af\u4fdd\u5b58\u5f39\u7a97":F,"\u6e05\u7a7a\u5faa\u73af":()=>O([]),"\u5feb\u901f\u5bfc\u5165\u5faa\u73af":l=>O(l),"\u66f4\u65b0\u5947\u7a74\u4fe1\u606f":Q,"\u66f4\u65b0\u5947\u7a74\u5f39\u7a97\u5c55\u793a":ll,"\u52a0\u901f\u7b49\u7ea7":B,"\u66f4\u65b0\u52a0\u901f\u7b49\u7ea7":q,"\u8d77\u624b\u56de\u80fd\u5e27":P,"\u66f4\u65b0\u8d77\u624b\u56de\u80fd\u5e27":_,"\u7f51\u7edc\u5ef6\u8fdf":U,"\u66f4\u65b0\u7f51\u7edc\u5ef6\u8fdf":Y,"\u6a21\u62df\u4fe1\u606f":w,"\u8d77\u624b\u80fd\u91cf":L,"\u66f4\u65b0\u8d77\u624b\u80fd\u91cf":V}),centered:!0,footer:null,open:$,onCancel:()=>M(!1),destroyOnClose:!0,children:[(0,Nl.jsxs)("div",{className:"cycle-simulator-setting",children:[(0,Nl.jsx)(Ul,{"\u6a21\u62df\u4fe1\u606f":w,"\u5b8c\u6574\u5faa\u73af":null===rl||void 0===rl?void 0:rl.\u5b8c\u6574\u5faa\u73af,"\u65e5\u5fd7\u4fe1\u606f":N,"\u6a21\u62dfDPS\u7ed3\u679c":G,"\u5947\u7a74\u4fe1\u606f":K}),(0,Nl.jsx)("div",{className:"cycle-simulator-setting-res",children:null!==rl&&void 0!==rl&&null!==(x=rl.\u663e\u793a\u5faa\u73af)&&void 0!==x&&x.length?((null===rl||void 0===rl?void 0:rl.\u663e\u793a\u5faa\u73af)||[]).map(((l,i)=>null!==l&&void 0!==l&&l.length?(0,Nl.jsx)("div",{className:"cycle-simulator-setting-turn cycle-turn-drag",children:(0,Nl.jsxs)(v.ReactSortable,{list:l.map((l=>Object.assign(l,{id:`${null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0}_${i}_${null===l||void 0===l?void 0:l.index}`}))),setList:l=>{((l,i)=>{if("\u8f6e\u6b21\u5185"==i){const i=l.reduce((function(l,i){return Math.min(l,i.index)}),1/0),s=l.reduce((function(l,i){return Math.max(l,i.index)}),Number.NEGATIVE_INFINITY),n=S.map(((n,o)=>o<i||o>s?{...n}:l[o-i]));O(n)}else if("\u6574\u4e2a\u8f6e\u6b21\u62d6\u62fd"===i){const i=[];l.forEach((l=>{l.forEach((l=>{if(l.\u6280\u80fd\u540d\u79f0){var s;const n=null===w||void 0===w||null===(s=w.\u6280\u80fd\u57fa\u7840\u6570\u636e)||void 0===s?void 0:s.find((i=>(null===i||void 0===i?void 0:i.\u6280\u80fd\u540d\u79f0)===l.\u6280\u80fd\u540d\u79f0));n&&i.push(n)}}))})),O(i)}})(l,"\u8f6e\u6b21\u5185")},className:"cycle-simulator-setting-turn-drop",animation:150,draggable:".cycle-simulator-setting-skill-drag",children:[(l||[]).map((l=>(0,Nl.jsx)(Zl,{"\u6280\u80fd":l,"\u5220\u9664\u5faa\u73af\u6280\u80fd":hl,"\u6a21\u62df\u4fe1\u606f":w,"buff\u8986\u76d6\u6570\u636e":il,"buff\u8986\u76d6\u7d22\u5f15":nl,"\u66f4\u65b0buff\u8986\u76d6\u6570\u636e":(l,i)=>{sl(l),ol(i)},"\u70b9\u51fb\u4e0b\u62c9\u83dc\u5355":i=>((l,i)=>{ul({"\u4f4d\u7f6e":null===l||void 0===l?void 0:l.key,"\u7d22\u5f15":i}),dl(!0)})(i,null===l||void 0===l?void 0:l.index)},`${null===l||void 0===l?void 0:l.\u6280\u80fd\u540d\u79f0}_${i}_${null===l||void 0===l?void 0:l.index}`))),(0,Nl.jsxs)("div",{className:"cycle-turn-operate",children:[(0,Nl.jsx)(u.A,{title:"\u5220\u9664\u672c\u8f6e\u540e\u5168\u90e8\u5faa\u73af",children:(0,Nl.jsx)(c.A,{className:"cycle-turn-operate-btn",style:{color:"#FF0000"},onClick:()=>(l=>{j.confirm({title:"\u786e\u8ba4\u5220\u9664\u672c\u8f6e\u540e\u5168\u90e8\u5faa\u73af\u5417\uff1f",onOk(){const i=l.reduce((function(l,i){return Math.max(l,i.index)}),Number.NEGATIVE_INFINITY),s=S.filter(((l,s)=>s<=i));O(s)}})})(l)})}),(0,Nl.jsx)(u.A,{title:"\u590d\u5236\u5e76\u6dfb\u52a0\u5230\u6700\u540e",children:(0,Nl.jsx)(a.A,{className:"cycle-turn-operate-btn",onClick:()=>(l=>{let i=[];i=[...S||[]].concat(l),O(i)})(l)})}),(0,Nl.jsx)(u.A,{title:"\u5220\u9664\u6b64\u8f6e",children:(0,Nl.jsx)(r.A,{className:"cycle-turn-operate-btn",onClick:()=>(l=>{const i=l.reduce((function(l,i){return Math.min(l,i.index)}),1/0),s=l.reduce((function(l,i){return Math.max(l,i.index)}),Number.NEGATIVE_INFINITY),n=S.filter(((l,n)=>n<i||n>s));O(n)})(l)})})]})]})},`${i}`):(0,Nl.jsx)("div",{}))):(0,Nl.jsx)("p",{className:"cycle-simulator-setting-tip",children:"\u8bf7\u70b9\u51fb\u4e0b\u65b9\u6280\u80fd\u6309\u94ae\u751f\u6210\u6a21\u62df\u6280\u80fd\u5e8f\u5217"})})]}),(0,Nl.jsx)(oi,{"\u65b0\u589e\u5faa\u73af\u6280\u80fd":l=>{let i=[];i=[...S||[],l],O(i)},"\u6279\u91cf\u65b0\u589e\u5faa\u73af":l=>{const i=[...l],s=[...S||[],...i];O(s)},"\u5904\u7406\u5faa\u73af\u7ed3\u679c\u5bf9\u8c61":rl,"\u6a21\u62df\u4fe1\u606f":w,"\u5927\u6a59\u6b66\u6a21\u62df":I,"\u5947\u7a74\u4fe1\u606f":K}),(0,Nl.jsx)(ci,{"\u81ea\u5b9a\u4e49\u5faa\u73af\u4fdd\u5b58\u5f39\u7a97":z,"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u5faa\u73af\u4fdd\u5b58\u5f39\u7a97":F,"\u4fdd\u5b58\u81ea\u5b9a\u4e49\u5faa\u73af":(l,i,s)=>{const n=null!==s&&void 0!==s&&s.length?s:[0,1,2,3],o=null!==i&&void 0!==i&&i.length?i:[0,1,2,3,4,5],d=[],e=[];o.forEach((l=>{const i=xi[l];n.forEach((s=>{const n=cl({"\u4f20\u5165\u52a0\u901f":Number(i),"\u4f20\u5165\u5ef6\u8fdf":Number(s),"\u66f4\u65b0\u5c55\u793a":!1,"\u5947\u7a74":[...K]}),o=null===n||void 0===n?void 0:n.\u6700\u7ec8\u65e5\u5fd7,t=null===n||void 0===n?void 0:n.\u5faa\u73af\u6267\u884c\u7ed3\u679c,u=(null===n||void 0===n?void 0:n.\u5f53\u524d\u65f6\u95f4)/b.DH,v=C(o);"\u6210\u529f"===t?d.push({"\u5faa\u73af\u52a0\u901f\u7b49\u7ea7":l,"\u5faa\u73af\u5ef6\u8fdf\u8981\u6c42":s,"\u6218\u6597\u65f6\u95f4":u,"\u6280\u80fd\u8be6\u60c5":v}):e.push({"\u52a0\u901f":l,"\u5ef6\u8fdf":s})}))})),null!==e&&void 0!==e&&e.length&&t.Ay.error(`\u4ee5\u4e0b\u6761\u4ef6\u5faa\u73af\u5f02\u5e38\uff0c\u5c06\u4e0d\u4f1a\u4fdd\u5b58\u8be5\u52a0\u901f\u7684\u5faa\u73af\u3002\u5f02\u5e38\u5faa\u73af\uff1a${e.map((l=>`[\u52a0\u901f\uff1a${l.\u52a0\u901f}\uff0c\u5ef6\u8fdf\uff1a${l.\u5ef6\u8fdf}]`)).join("\u3001")}`);const u=S.map((l=>l.\u6280\u80fd\u540d\u79f0)),v=null!==W&&void 0!==W&&W.some((i=>(null===i||void 0===i?void 0:i.\u540d\u79f0)===l))?W.map((i=>i.\u540d\u79f0===l?{"\u540d\u79f0":l,"\u6807\u9898":l,"\u7c7b\u578b":"\u81ea\u5b9a\u4e49","\u6807\u8bb0":"\u81ea\u5b9a\u4e49","\u5faa\u73af\u8be6\u60c5":d,"\u5947\u7a74":K,"\u6280\u80fd\u5e8f\u5217":u}:i)):(W||[]).concat([{"\u540d\u79f0":l,"\u6807\u9898":l,"\u7c7b\u578b":"\u81ea\u5b9a\u4e49","\u6807\u8bb0":"\u81ea\u5b9a\u4e49","\u5faa\u73af\u8be6\u60c5":d,"\u5947\u7a74":K,"\u6280\u80fd\u5e8f\u5217":u}]);vl((0,p.wv)(v)),F(!1),t.Ay.success("\u4fdd\u5b58\u6210\u529f")}}),(0,Nl.jsx)(hi,{"\u5947\u7a74\u4fe1\u606f":K,"\u66f4\u65b0\u5947\u7a74\u4fe1\u606f":Q,"\u5947\u7a74\u5f39\u7a97\u5c55\u793a":X,"\u66f4\u65b0\u5947\u7a74\u5f39\u7a97\u5c55\u793a":ll}),(0,Nl.jsx)(fi,{"\u5411\u5faa\u73af\u5185\u63d2\u5165\u6280\u80fd":(l,i,s)=>{let n=[...S||[]],o=[];"\u524d\u90e8\u63d2\u5165"===i?(o=n.slice(0,s).concat(l,n.slice(s)),ul({...el,"\u7d22\u5f15":el.\u7d22\u5f15+l.length})):o=n.slice(0,s+l.length).concat(l,n.slice(s+l.length)),n=[...o],O(n)},"\u5904\u7406\u5faa\u73af\u7ed3\u679c\u5bf9\u8c61":rl,"\u6a21\u62df\u4fe1\u606f":w,"\u5927\u6a59\u6b66\u6a21\u62df":I,"\u5947\u7a74\u4fe1\u606f":K,"\u6dfb\u52a0\u8bbe\u7f6e":el,"\u6dfb\u52a0\u6280\u80fd\u5f39\u7a97\u663e\u793a":tl,"\u5173\u95ed\u5f39\u7a97":()=>{dl(!1),ul({"\u4f4d\u7f6e":"","\u7d22\u5f15":0})}})]})]})}const bi=n.memo(pi)}}]);
//# sourceMappingURL=546.97d8f159.chunk.js.map